{"_at":[1768209951422,1],"_by":"darin@darinsmacstudio.lan","_v":{"acceptance_criteria":[[1768178815664,1],"darin@darinsmacstudio.lan"],"claim":[[1768209939479,1],"darin@darinsmacstudio.lan"],"description":[[1768178815664,1],"darin@darinsmacstudio.lan"],"design":[[1768178815664,1],"darin@darinsmacstudio.lan"],"estimated_minutes":[[1768178815664,1],"darin@darinsmacstudio.lan"],"external_ref":[[1768178815664,1],"darin@darinsmacstudio.lan"],"labels":[[1768178815664,1],"darin@darinsmacstudio.lan"],"priority":[[1768178815664,1],"darin@darinsmacstudio.lan"],"source_repo":[[1768178815664,1],"darin@darinsmacstudio.lan"],"title":[[1768185424489,1],"darin@darinsmacstudio.lan"],"type":[[1768178815664,1],"darin@darinsmacstudio.lan"]},"assignee":"darin@darinsmacstudio.lan","assignee_at":[1768209939479,1],"assignee_expires":1768213539479,"closed_at":[1768209951422,1],"closed_by":"darin@darinsmacstudio.lan","created_at":[1768178815664,1],"created_by":"darin@darinsmacstudio.lan","description":"**Problem**\nOperators need to recover from stale lock files without manual rm.\n\n**Context**\n- REALTIME_PLAN.md ยง0.2 (store lock metadata, recovery ergonomics)\n\n**Design**\n- CLI: `bd store unlock --store-id <id>`\n- Reads lock metadata and displays: store_id, replica_id, pid, started_at_ms, daemon_version\n- If pid does not exist: removes lock file (safe case)\n- If pid exists but different process (pid reuse): removes lock file\n- If pid exists and appears to be daemon: requires --force flag\n- Logs unlock action for traceability\n\n**Acceptance**\n- [ ] bd store unlock reads and displays lock metadata\n- [ ] Auto-removes stale locks (pid gone)\n- [ ] Requires --force for live-looking processes\n- [ ] Tests verify safe/force paths\n\n**Files:** src/cli/commands/store.rs (new), src/daemon/store_lock.rs","id":"bd-3m5.36","labels":[],"priority":2,"status":"closed","title":"Phase 3: bd store unlock CLI for stale lock recovery","type":"task"}
