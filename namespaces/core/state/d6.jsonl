{"_at":[1765677875351,0],"_by":"darin@darinsmcstudio2.lan","assignee":"darin@dusk","created_at":[1765676880084,0],"created_by":"darin@darinsmcstudio2.lan","description":"## What's Wrong\nThe threshold for switching from detailed to count-based commit messages is hardcoded to 5 in to_commit_message().\n\n## Where\n- src/git/sync.rs:92 (`if !self.details.is_empty() && total <= 5`)\n\n## Why It Matters\nMinor - the magic number 5 isn't configurable or documented. Fine for now, but if users want different behavior they can't change it.\n\n## Suggested Fix\nEither document why 5, or make it a const at module level.","id":"bd-s2x","labels":{"cc":{"max":{}},"entries":{}},"priority":4,"status":"closed","title":"Smart commit message threshold (5) is hardcoded","type":"chore"}
{"_at":[1768443354139,0],"_by":"darin@darinsmcstudio2.lan","assignee":"darin@book","created_at":[1766116456966,0],"created_by":"darin@darinsmcstudio2.lan","description":"**Problem**\nState blobs are trusted JSON; corruption is only detected if JSON parsing fails. Silent corruption could lead to inconsistent state or data loss.\n\n**Design**\nInclude a checksum (e.g., SHA256) in `meta.json` for state/tombstones/deps blobs and verify on read. On mismatch, surface a clear error and avoid overwriting state.\n\n**Acceptance**\n- [ ] Checksums written on commit\n- [ ] Checksums verified on load\n- [ ] Corruption returns a structured error\n\n**Files:** src/git/wire.rs, src/git/sync.rs, src/api/mod.rs, SPEC.md","id":"bd-sz4","labels":{"cc":{"max":{}},"entries":{}},"priority":2,"status":"closed","title":"Add integrity checksum for store blobs","type":"chore"}
{"_at":[1768622434574,0],"_by":"darin@darinsmcstudio2.lan","created_at":[1768622434574,0],"created_by":"darin@darinsmcstudio2.lan","description":"**Problem**\nNeed bd pour command to instantiate protos as persistent molecules. Pour is the primary way to create work from templates.\n\n**What is Pour?**\nPour instantiates a proto (template) as a persistent mol:\n- Phase: Proto (solid) â†’ Mol (liquid)\n- Storage: Creates real issues in .beads/ that sync to git\n- Variables: Substitutes {{var}} placeholders with --var flags\n- Result: Epic + children with dependencies intact\n\n**How it Works (Go beads)**\n1. Load proto (from DB OR cook formula inline)\n2. Clone subgraph with variable substitution\n3. Apply defaults from formula VarDefs\n4. Create all issues + dependencies + labels\n5. Schedule autoflush to sync to JSONL\n\n**Command Syntax**\nbd pour <proto-or-formula> [--var k=v]... [--assignee agent] [--attach other-proto]\n\n**Examples**\n- bd pour mol-feature --var name=auth\n- bd pour beads-release --var version=1.0.0\n- bd pour mol-epic --var title=\"My Epic\" --assignee claude\n\n**Design**\nImplements cloneSubgraph from template.go:\n- Variable substitution in title/description/fields\n- Preserve dependency graph topology\n- Apply formula defaults (VarDef.default)\n- Check required variables (VarDef.required)\n- Handle attachments (--attach for bonding during pour)\n\n**Files to Study (Go beads)**\n- cmd/bd/pour.go - pour command implementation\n- cmd/bd/template.go - cloneSubgraph (line ~500)\n- cmd/bd/cook.go - resolveAndCookFormula (inline cooking)\n\n**Acceptance**\n- [ ] bd pour command implemented\n- [ ] Loads proto from DB or cooks formula inline\n- [ ] Variable substitution works\n- [ ] Defaults applied from formula\n- [ ] Required variable validation\n- [ ] Creates issues + deps + labels\n- [ ] --assignee flag works\n- [ ] Tests for pour workflow\n","id":"bd-ze0x.18","labels":{"cc":{"max":{}},"entries":{"human-needed":[{"counter":11675068047917621288,"replica":"aabe0c2c-d9ad-5cdf-37cc-b3e8877f6611"}]}},"priority":1,"status":"open","title":"Add bd pour command to beads-rs","type":"feature"}
