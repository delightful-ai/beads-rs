{"_at":[1765677875351,0],"_by":"darin@dusk","_v":{"acceptance_criteria":[[1765676880084,0],"darin@dusk"],"claim":[[1765677841115,0],"darin@dusk"],"description":[[1765676880084,0],"darin@dusk"],"design":[[1765676880084,0],"darin@dusk"],"estimated_minutes":[[1765676880084,0],"darin@dusk"],"external_ref":[[1765676880084,0],"darin@dusk"],"labels":[[1765676880084,0],"darin@dusk"],"priority":[[1765676880084,0],"darin@dusk"],"source_repo":[[1765676880084,0],"darin@dusk"],"title":[[1765676880084,0],"darin@dusk"],"type":[[1765676880084,0],"darin@dusk"]},"assignee":"darin@dusk","assignee_at":[1765677841115,0],"assignee_expires":1765681441115,"closed_at":[1765677875351,0],"closed_by":"darin@dusk","created_at":[1765676880084,0],"created_by":"darin@dusk","description":"## What's Wrong\nThe threshold for switching from detailed to count-based commit messages is hardcoded to 5 in to_commit_message().\n\n## Where\n- src/git/sync.rs:92 (`if !self.details.is_empty() && total <= 5`)\n\n## Why It Matters\nMinor - the magic number 5 isn't configurable or documented. Fine for now, but if users want different behavior they can't change it.\n\n## Suggested Fix\nEither document why 5, or make it a const at module level.","id":"bd-s2x","labels":[],"priority":4,"status":"closed","title":"Smart commit message threshold (5) is hardcoded","type":"chore"}
{"_at":[1768443354139,1],"_by":"darin@book","_v":{"acceptance_criteria":[[1766116456966,0],"darin@dusk"],"claim":[[1768442542054,1],"darin@book"],"description":[[1766116456966,0],"darin@dusk"],"design":[[1766116456966,0],"darin@dusk"],"estimated_minutes":[[1766116456966,0],"darin@dusk"],"external_ref":[[1766116456966,0],"darin@dusk"],"labels":[[1766116456966,0],"darin@dusk"],"priority":[[1766116456966,0],"darin@dusk"],"source_repo":[[1766116456966,0],"darin@dusk"],"title":[[1766116456966,0],"darin@dusk"],"type":[[1766116456966,0],"darin@dusk"]},"assignee":"darin@book","assignee_at":[1768442542054,1],"assignee_expires":1768446142054,"closed_at":[1768443354139,1],"closed_by":"darin@book","created_at":[1766116456966,0],"created_by":"darin@dusk","description":"**Problem**\nState blobs are trusted JSON; corruption is only detected if JSON parsing fails. Silent corruption could lead to inconsistent state or data loss.\n\n**Design**\nInclude a checksum (e.g., SHA256) in `meta.json` for state/tombstones/deps blobs and verify on read. On mismatch, surface a clear error and avoid overwriting state.\n\n**Acceptance**\n- [ ] Checksums written on commit\n- [ ] Checksums verified on load\n- [ ] Corruption returns a structured error\n\n**Files:** src/git/wire.rs, src/git/sync.rs, src/api/mod.rs, SPEC.md","id":"bd-sz4","labels":[],"priority":2,"status":"closed","title":"Add integrity checksum for store blobs","type":"chore"}
