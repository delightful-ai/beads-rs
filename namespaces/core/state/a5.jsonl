{"_at":[1768437916950,1],"_by":"darin@book","_v":{"acceptance_criteria":[[1768178870748,1],"darin@darinsmacstudio.lan"],"claim":[[1768437000976,1],"darin@book"],"description":[[1768178870748,1],"darin@darinsmacstudio.lan"],"design":[[1768178870748,1],"darin@darinsmacstudio.lan"],"estimated_minutes":[[1768178870748,1],"darin@darinsmacstudio.lan"],"external_ref":[[1768178870748,1],"darin@darinsmacstudio.lan"],"labels":[[1768178870748,1],"darin@darinsmacstudio.lan"],"priority":[[1768178870748,1],"darin@darinsmacstudio.lan"],"source_repo":[[1768178870748,1],"darin@darinsmacstudio.lan"],"title":[[1768185439057,1],"darin@darinsmacstudio.lan"],"type":[[1768178870748,1],"darin@darinsmacstudio.lan"]},"assignee":"darin@book","assignee_at":[1768437000976,1],"assignee_expires":1768440600976,"closed_at":[1768437916950,1],"closed_by":"darin@book","created_at":[1768178870748,1],"created_by":"darin@darinsmacstudio.lan","description":"**Problem**\nPlan requires crash tests to verify recovery behavior after SIGKILL at various points.\n\n**Context**\n- REALTIME_PLAN.md ยง18 (crash tests)\n\n**Design**\n- Integration tests that:\n  - Inject SIGKILL during append (after write before fsync, after fsync before index commit, etc.)\n  - Assert recovery: no duplicate origin_seq, tail truncation correct, index rebuild correct\n- Use fork() or subprocess to inject crashes\n- Verify idempotency mapping survives\n\n**Acceptance**\n- [ ] Test kills daemon mid-append and verifies recovery\n- [ ] No duplicate origin_seq after crash\n- [ ] Tail truncation handles partial records\n- [ ] Index rebuild correct after crash\n\n**Files:** tests/crash_recovery.rs (new)","id":"bd-3m5.42","labels":[],"priority":3,"status":"closed","title":"Cross-phase: Crash safety integration tests","type":"task"}
