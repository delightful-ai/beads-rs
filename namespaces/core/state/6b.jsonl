{"_at":[1770509493549,0],"_by":"darin@darinsmcstudio2.lan","_v":{"workflow":[[1770509493450,0],"darin@darinsmcstudio2.lan"]},"assignee":"darin@darins-Mac-Studio-2.local","created_at":[1770508423983,0],"created_by":"darin@darinsmcstudio2.lan","description":"Problem: fixtures still import beads_rs::daemon::store_lock internals for lock-file behavior checks. Design: provide typed store-lock test boundary in daemon/surface-owned API (or daemon test utils), retarget fixtures, and tighten visibility on store_lock internals. Acceptance: fixtures no longer import beads_rs::daemon::store_lock internals; relevant daemon/store-lock integration tests pass unchanged.","id":"bd-21eg.34","labels":{"cc":{"max":{}},"entries":{}},"notes":[{"at":[1770509493549,0],"author":"darin@darins-Mac-Studio-2.local","content":"Implemented store-lock fixture boundary decoupling from daemon::store_lock internals.\nChanges:\n- `tests/integration/fixtures/store_lock.rs` now uses public path APIs (`paths::store_lock_path` + data-dir override) and local typed error enum.\n- Removed direct `beads_rs::daemon::store_lock::{...}` imports.\nValidation:\n- cargo test -p beads-rs --test integration --features slow-tests -- daemon::lifecycle:: (8 pass)\n- cargo test -p beads-rs --test integration --features slow-tests -- daemon::crash_recovery:: --test-threads=1 (2 pass)\n- cargo check -p beads-rs\nAcceptance met: fixtures no longer import daemon::store_lock internals and relevant daemon/store-lock flows pass.","id":"go-comment-bd-21eg.34-1"},{"at":[1770509493549,0],"author":"darin@darinsmcstudio2.lan","content":"Implemented store-lock fixture boundary decoupling from daemon::store_lock internals.\nChanges:\n- `tests/integration/fixtures/store_lock.rs` now uses public path APIs (`paths::store_lock_path` + data-dir override) and local typed error enum.\n- Removed direct `beads_rs::daemon::store_lock::{...}` imports.\nValidation:\n- cargo test -p beads-rs --test integration --features slow-tests -- daemon::lifecycle:: (8 pass)\n- cargo test -p beads-rs --test integration --features slow-tests -- daemon::crash_recovery:: --test-threads=1 (2 pass)\n- cargo check -p beads-rs\nAcceptance met: fixtures no longer import daemon::store_lock internals and relevant daemon/store-lock flows pass.","id":"legacy-notes"}],"priority":2,"status":"closed","title":"Extract store-lock fixture boundary API to remove daemon::store_lock internal imports","type":"task"}
