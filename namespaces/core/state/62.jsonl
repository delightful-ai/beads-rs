{"_at":[1768390806609,1],"_by":"darin@book","_v":{"acceptance_criteria":[[1768178783264,1],"darin@darinsmacstudio.lan"],"claim":[[1768387790685,1],"darin@book"],"description":[[1768178783264,1],"darin@darinsmacstudio.lan"],"design":[[1768178783264,1],"darin@darinsmacstudio.lan"],"estimated_minutes":[[1768178783264,1],"darin@darinsmacstudio.lan"],"external_ref":[[1768178783264,1],"darin@darinsmacstudio.lan"],"labels":[[1768178783264,1],"darin@darinsmacstudio.lan"],"priority":[[1768178783264,1],"darin@darinsmacstudio.lan"],"source_repo":[[1768178783264,1],"darin@darinsmacstudio.lan"],"title":[[1768185416411,1],"darin@darinsmacstudio.lan"],"type":[[1768178783264,1],"darin@darinsmacstudio.lan"]},"assignee":"darin@book","assignee_at":[1768387790685,1],"assignee_expires":1768391390685,"closed_at":[1768390806609,1],"closed_by":"darin@book","created_at":[1768178783264,1],"created_by":"darin@darinsmacstudio.lan","description":"**Problem**\nOperators need introspection into store health, watermarks, segments, replication, and checkpoints.\n\n**Context**\n- REALTIME_PLAN.md ยง16.1 (admin.status, admin.metrics)\n\n**Design**\n- admin.status returns: store_id, replica_id, namespaces, applied/durable watermarks, WAL segment stats (count/bytes), index health (last_indexed_offset per segment), replication sessions (peers, last_ack, lag), checkpoint groups (dirty/in-flight/last push)\n- admin.metrics returns: counters (wal_append_ok/err, apply_ok/err, repl_events_in/out), gauges (IPC inflight, repl queue depth, per-peer lag), histograms (wal_append_duration, checkpoint_duration)\n- Both return structured JSON\n\n**Acceptance**\n- [ ] admin.status returns complete store introspection\n- [ ] admin.metrics returns counters/gauges/histograms\n- [ ] CLI `bd admin status` and `bd admin metrics` work\n- [ ] Tests verify expected fields\n\n**Files:** src/daemon/ipc.rs, src/daemon/admin.rs (new), src/cli/commands/admin.rs (new)","id":"bd-3m5.31","labels":[],"priority":2,"status":"closed","title":"Phase 7: admin.status + admin.metrics IPC ops","type":"task"}
