{"_at":[1768481051485,1],"_by":"darin@book","_v":{"acceptance_criteria":[[1768480671080,1],"darin@book"],"claim":[[1768480812735,1],"darin@book"],"description":[[1768480671080,1],"darin@book"],"design":[[1768480671080,1],"darin@book"],"estimated_minutes":[[1768480671080,1],"darin@book"],"external_ref":[[1768480671080,1],"darin@book"],"labels":[[1768480671080,1],"darin@book"],"priority":[[1768480671080,1],"darin@book"],"source_repo":[[1768480671080,1],"darin@book"],"title":[[1768480671080,1],"darin@book"],"type":[[1768480671080,1],"darin@book"]},"assignee":"darin@book","assignee_at":[1768480812735,1],"assignee_expires":1768484412735,"closed_at":[1768481051485,1],"closed_by":"darin@book","created_at":[1768480671080,1],"created_by":"darin@book","description":"","id":"bd-16g","labels":[],"priority":2,"status":"closed","title":"src/core/event.rs: nested map decoders allow duplicate keys; spec 3.1 requires rejecting duplicates","type":"chore"}
{"_at":[1768439486541,1],"_by":"darin@book","_v":{"acceptance_criteria":[[1768178869098,1],"darin@darinsmacstudio.lan"],"claim":[[1768437928912,1],"darin@book"],"description":[[1768178869098,1],"darin@darinsmacstudio.lan"],"design":[[1768178869098,1],"darin@darinsmacstudio.lan"],"estimated_minutes":[[1768178869098,1],"darin@darinsmacstudio.lan"],"external_ref":[[1768178869098,1],"darin@darinsmacstudio.lan"],"labels":[[1768178869098,1],"darin@darinsmacstudio.lan"],"priority":[[1768178869098,1],"darin@darinsmacstudio.lan"],"source_repo":[[1768178869098,1],"darin@darinsmacstudio.lan"],"title":[[1768185437815,1],"darin@darinsmacstudio.lan"],"type":[[1768178869098,1],"darin@darinsmacstudio.lan"]},"assignee":"darin@book","assignee_at":[1768437928912,1],"assignee_expires":1768441528912,"closed_at":[1768439486541,1],"closed_by":"darin@book","created_at":[1768178869098,1],"created_by":"darin@darinsmacstudio.lan","description":"**Problem**\nPlan requires fuzz testing for decode paths to find edge cases.\n\n**Context**\n- REALTIME_PLAN.md ยง18 (fuzzing + crash safety)\n\n**Design**\n- cargo-fuzz targets:\n  - WAL frame decode (length/crc/tail truncation)\n  - CBOR EventBody decode with bounds (depth, map entries, array entries)\n  - Replication message decode (HELLO/WELCOME/EVENTS)\n- Use libfuzzer or afl via cargo-fuzz\n- CI runs fuzz for bounded time on each PR (optional)\n\n**Acceptance**\n- [ ] fuzz/fuzz_targets/wal_decode.rs exists\n- [ ] fuzz/fuzz_targets/event_body_decode.rs exists\n- [ ] fuzz/fuzz_targets/repl_message_decode.rs exists\n- [ ] cargo fuzz run <target> works\n\n**Files:** fuzz/fuzz_targets/wal_decode.rs (new), fuzz/fuzz_targets/event_body_decode.rs (new), fuzz/fuzz_targets/repl_message_decode.rs (new), Cargo.toml","id":"bd-3m5.41","labels":[],"priority":3,"status":"closed","title":"Cross-phase: Fuzz targets for WAL/CBOR/replication decode","type":"task"}
{"_at":[1768529791359,1],"_by":"darin@book","_v":{"acceptance_criteria":[[1768503193389,1],"darin@book"],"claim":[[1768529316650,1],"darin@book"],"description":[[1768503193389,1],"darin@book"],"design":[[1768503193389,1],"darin@book"],"estimated_minutes":[[1768503193389,1],"darin@book"],"external_ref":[[1768503193389,1],"darin@book"],"labels":[[1768503193389,1],"darin@book"],"priority":[[1768503193389,1],"darin@book"],"source_repo":[[1768503193389,1],"darin@book"],"title":[[1768503193389,1],"darin@book"],"type":[[1768503193389,1],"darin@book"]},"acceptance_criteria":"- [ ] `BeadPatch.status` is typed, not `Patch<String>`.\n- [ ] Invalid status strings are rejected during IPC parsing with a clear validation error.\n- [ ] Mutation engine no longer matches status strings.","assignee":"darin@book","assignee_at":[1768529316650,1],"assignee_expires":1768532916650,"closed_at":[1768529791359,1],"closed_by":"darin@book","created_at":[1768503193389,1],"created_by":"darin@book","description":"**Problem**\n`src/daemon/ops.rs` defines `BeadPatch.status` as `Patch<String>`. The mutation engine parses strings into `WorkflowStatus` later, so invalid values flow deep into realtime planning and errors are ad-hoc. This keeps workflow invariants out of the type system and duplicates parsing logic.\n\n**Files**\n- src/daemon/ops.rs\n- src/daemon/mutation_engine.rs\n- src/daemon/ipc.rs","design":"Change `BeadPatch.status` to a typed patch (`Patch<WorkflowStatus>` or `Patch<Workflow>`). Provide serde mapping at the IPC boundary so JSON still uses `open|in_progress|closed`. Validate/parse in IPC and keep internal code fully typed. Update mutation engine and canonicalization to use the typed status directly; remove string matching.","id":"bd-nph","labels":[],"priority":2,"status":"closed","title":"BeadPatch.status should be typed (WorkflowStatus)","type":"chore"}
