{"_at":[1770512418549,0],"_by":"darin@darinsmcstudio2.lan","assignee":"darin@darins-Mac-Studio-2.local","created_at":[1770511146352,0],"created_by":"darin@darinsmcstudio2.lan","description":"**Problem**\\nMost CLI handlers are still implemented in crates/beads-rs/src/cli/commands even though they only use IPC/core/api types and parser/validation helpers already in beads-cli.\\n\\n**Design**\\nRelocate pure IPC command handlers (create/show/list/search/ready/blocked/stale/count/deleted/sync/subscribe/update/close/reopen/delete/claim/unclaim/comments/dep/label/epic/status/admin init, excluding upgrade/store/migrate) into beads-cli and wire beads-rs CLI dispatch to them.\\n\\n**Acceptance**\\n- [ ] Selected command handlers moved to beads-cli\\n- [ ] beads-rs dispatch uses beads-cli handler implementations\\n- [ ] CLI critical path tests pass\\n\\n**Files:** crates/beads-cli/src/commands/*, crates/beads-rs/src/cli/commands/*, crates/beads-rs/src/cli/mod.rs","id":"bd-21eg.38","labels":{"cc":{"max":{}},"entries":{}},"notes":[{"at":[1770512272430,0],"author":"darin@darins-Mac-Studio-2.local","content":"Phase-1 progress landed and stabilized (compile + tests green):\n\nAdded new beads-cli read-only handler modules:\n- `crates/beads-cli/src/commands/{common,list,search,blocked,ready,stale,count}.rs`\n- `crates/beads-cli/src/commands/mod.rs` now defines typed `CommandError` and shared `print_ok`\n\nCurrent status:\n- handler implementations exist under beads-cli for the read-only pure-IPC slice\n- beads-rs dispatch rewiring to these moved handlers is NOT complete yet (next step in this bead)\n- no behavior changes introduced in active CLI path yet\n\nValidation after stabilizing worker partial state:\n- cargo check -p beads-cli\n- cargo check -p beads-rs\n- cargo test -p beads-rs --test integration -- cli::critical_path:: (6 pass)\n- just dylint\nAll green.","id":"go-comment-bd-21eg.38-1"},{"at":[1770512413227,0],"author":"darin@darins-Mac-Studio-2.local","content":"Phase-1 read-only handler migration completed and wired.\n\nMoved/owned implementations in beads-cli:\n- `crates/beads-cli/src/commands/{list,search,blocked,ready,stale,count}.rs`\n- shared command scaffolding in `crates/beads-cli/src/commands/{mod,common}.rs`\n\nbeads-rs dispatch now uses beads-cli implementations for this subset:\n- `crates/beads-rs/src/cli/commands/{list,search,blocked,ready,stale,count}.rs`\n  now delegate to corresponding beads-cli handlers and re-export moved arg/render types\n- added typed conversion `impl From<beads_cli::commands::CommandError> for crate::Error`\n  in `crates/beads-rs/src/error.rs`\n\nResult:\n- read-only pure IPC path for these commands now executes via beads-cli-owned handler logic\n- behavior preserved (critical path remains green)\n\nValidation:\n- cargo check -p beads-cli\n- cargo check -p beads-rs\n- cargo test -p beads-rs --test integration -- cli::critical_path:: (6 pass)\n- just dylint\nAll green.","id":"go-comment-bd-21eg.38-2"},{"at":[1770512418549,0],"author":"darin@darinsmcstudio2.lan","content":"Phase-1 progress landed and stabilized (compile + tests green):\n\nAdded new beads-cli read-only handler modules:\n- `crates/beads-cli/src/commands/{common,list,search,blocked,ready,stale,count}.rs`\n- `crates/beads-cli/src/commands/mod.rs` now defines typed `CommandError` and shared `print_ok`\n\nCurrent status:\n- handler implementations exist under beads-cli for the read-only pure-IPC slice\n- beads-rs dispatch rewiring to these moved handlers is NOT complete yet (next step in this bead)\n- no behavior changes introduced in active CLI path yet\n\nValidation after stabilizing worker partial state:\n- cargo check -p beads-cli\n- cargo check -p beads-rs\n- cargo test -p beads-rs --test integration -- cli::critical_path:: (6 pass)\n- just dylint\nAll green.\n\nPhase-1 read-only handler migration completed and wired.\n\nMoved/owned implementations in beads-cli:\n- `crates/beads-cli/src/commands/{list,search,blocked,ready,stale,count}.rs`\n- shared command scaffolding in `crates/beads-cli/src/commands/{mod,common}.rs`\n\nbeads-rs dispatch now uses beads-cli implementations for this subset:\n- `crates/beads-rs/src/cli/commands/{list,search,blocked,ready,stale,count}.rs`\n  now delegate to corresponding beads-cli handlers and re-export moved arg/render types\n- added typed conversion `impl From<beads_cli::commands::CommandError> for crate::Error`\n  in `crates/beads-rs/src/error.rs`\n\nResult:\n- read-only pure IPC path for these commands now executes via beads-cli-owned handler logic\n- behavior preserved (critical path remains green)\n\nValidation:\n- cargo check -p beads-cli\n- cargo check -p beads-rs\n- cargo test -p beads-rs --test integration -- cli::critical_path:: (6 pass)\n- just dylint\nAll green.","id":"legacy-notes"}],"priority":1,"status":"closed","title":"Move pure IPC CLI command handlers from beads-rs into beads-cli","type":"task"}
{"_at":[1768908285277,0],"_by":"darin@darinsmcstudio2.lan","acceptance_criteria":"- [ ] updated_at derived from BeadView\n- [ ] labels/notes read from stores\n\n**Invariants to re-verify**\n- [ ] updated_at reflects label/note changes\n- [ ] labels/notes sourced from stores, not Bead","assignee":"darin@book","created_at":[1768894652434,0],"created_by":"darin@darinsmcstudio2.lan","description":"**Problem**\nAPI/query layers read labels/notes and updated_at from Bead, which will be removed.\n\n**Files**\n- src/api/issues.rs\n- src/daemon/query_model.rs\n- src/daemon/query_executor.rs\n- src/core/wire_bead.rs","design":"Update all view construction to use CanonicalState::bead_view. Replace bead.updated_stamp() usage and note/label accessors with BeadView values.","id":"bd-3zoj.9","labels":{"cc":{"max":{}},"entries":{}},"priority":2,"status":"closed","title":"Query/API: use BeadView for updated_at, labels, notes","type":"task"}
{"_at":[1766267834772,0],"_by":"darin@darinsmcstudio2.lan","closed_reason":"Test complete - bv integration works","created_at":[1766267786533,0],"created_by":"darin@darinsmcstudio2.lan","description":"","id":"bd-7rz","labels":{"cc":{"max":{}},"entries":{}},"priority":4,"status":"closed","title":"Test bead for bv viewer integration","type":"chore"}
