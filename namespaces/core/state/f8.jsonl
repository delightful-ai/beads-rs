{"_at":[1766124427291,0],"_by":"darin@dusk","_v":{"acceptance_criteria":[[1766116456065,0],"darin@dusk"],"claim":[[1766124427237,0],"darin@dusk"],"description":[[1766116456065,0],"darin@dusk"],"design":[[1766116456065,0],"darin@dusk"],"estimated_minutes":[[1766116456065,0],"darin@dusk"],"external_ref":[[1766116456065,0],"darin@dusk"],"labels":[[1766116456065,0],"darin@dusk"],"priority":[[1766116456065,0],"darin@dusk"],"source_repo":[[1766116456065,0],"darin@dusk"],"title":[[1766116456065,0],"darin@dusk"],"type":[[1766116456065,0],"darin@dusk"]},"assignee":"darin@dusk","assignee_at":[1766124427237,0],"assignee_expires":1766128027237,"closed_at":[1766124427291,0],"closed_by":"darin@dusk","created_at":[1766116456065,0],"created_by":"darin@dusk","description":"**Problem**\nIf the remote history is rewritten (force-push), sync currently treats it like a normal remote update and proceeds. There's no explicit detection or warning to the user.\n\n**Design**\nDetect non-ancestor relationships between local/remote refs and surface a structured warning/error (e.g., status payload includes `diverged=true`). Consider requiring manual `bd sync --force` for history rewrites.\n\n**Acceptance**\n- [ ] Divergence detection is explicit\n- [ ] User-visible warning surfaced (status/IPC)\n- [ ] Tests cover force-push/divergence scenario\n\n**Files:** src/git/sync.rs, src/daemon/core.rs, src/api/mod.rs","id":"bd-0l1","labels":[],"priority":1,"status":"closed","title":"Detect and surface remote force-push/divergence","type":"bug"}
