{"_at":[1768468870499,1],"_by":"darin@book","_v":{"acceptance_criteria":[[1768444495152,1],"darin@book"],"claim":[[1768468524064,1],"darin@book"],"description":[[1768444495152,1],"darin@book"],"design":[[1768444495152,1],"darin@book"],"estimated_minutes":[[1768444495152,1],"darin@book"],"external_ref":[[1768444495152,1],"darin@book"],"labels":[[1768444495152,1],"darin@book"],"priority":[[1768444495152,1],"darin@book"],"source_repo":[[1768444495152,1],"darin@book"],"title":[[1768444495152,1],"darin@book"],"type":[[1768444495152,1],"darin@book"]},"assignee":"darin@book","assignee_at":[1768468524064,1],"assignee_expires":1768472124064,"closed_at":[1768468870499,1],"closed_by":"darin@book","created_at":[1768444495152,1],"created_by":"darin@book","description":"**Problem**\nREALTIME_PLAN §0.19 requires enforcing MAX_REPL_INGEST_BYTES_PER_SEC and MAX_BACKGROUND_IO_BYTES_PER_SEC (token buckets) so WAL writes aren’t starved. Limits exist but are unused.\n\nEvidence:\n- src/core/limits.rs defines max_repl_ingest_bytes_per_sec / max_background_io_bytes_per_sec.\n- No call sites reference these fields (rg shows only definitions/tests).\n\n**Why this violates plan**\nThese budgets are normative; without enforcement, replication or checkpoints can saturate IO and violate the durability priority rule.\n\n**Acceptance**\n- [ ] Implement token-bucket throttling for replication ingest bytes/sec and background IO.\n- [ ] Ensure WAL append + fsync are not starved by background work.\n- [ ] Add metrics/tests verifying throttling behavior.","id":"bd-3m5.94","labels":[],"priority":2,"status":"closed","title":"I/O budgeting limits (bytes/sec) are defined but not enforced","type":"bug"}
{"_at":[1768348610335,1],"_by":"darin@darinsmacstudio.lan","_v":{"acceptance_criteria":[[1768345739300,1],"darin@darinsmacstudio.lan"],"claim":[[1768345739300,1],"darin@darinsmacstudio.lan"],"description":[[1768345739300,1],"darin@darinsmacstudio.lan"],"design":[[1768345739300,1],"darin@darinsmacstudio.lan"],"estimated_minutes":[[1768345739300,1],"darin@darinsmacstudio.lan"],"external_ref":[[1768345739300,1],"darin@darinsmacstudio.lan"],"labels":[[1768345739300,1],"darin@darinsmacstudio.lan"],"priority":[[1768345739300,1],"darin@darinsmacstudio.lan"],"source_repo":[[1768345739300,1],"darin@darinsmacstudio.lan"],"title":[[1768345739300,1],"darin@darinsmacstudio.lan"],"type":[[1768345739300,1],"darin@darinsmacstudio.lan"]},"closed_at":[1768348610335,1],"closed_by":"darin@darinsmacstudio.lan","created_at":[1768345739300,1],"created_by":"darin@darinsmacstudio.lan","description":"","id":"bd-5sd","labels":[],"priority":2,"status":"closed","title":"Spec-aligned WAL/event invariants and idempotency canonicalization","type":"chore"}
