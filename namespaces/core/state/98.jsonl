{"_at":[1768254394836,1],"_by":"darin@darinsmacstudio.lan","_v":{"acceptance_criteria":[[1768195858966,1],"darin@darinsmacstudio.lan"],"claim":[[1768177927003,1],"darin@darinsmacstudio.lan"],"description":[[1768177927003,1],"darin@darinsmacstudio.lan"],"design":[[1768177927003,1],"darin@darinsmacstudio.lan"],"estimated_minutes":[[1768177927003,1],"darin@darinsmacstudio.lan"],"external_ref":[[1768177927003,1],"darin@darinsmacstudio.lan"],"labels":[[1768177927003,1],"darin@darinsmacstudio.lan"],"priority":[[1768177927003,1],"darin@darinsmacstudio.lan"],"source_repo":[[1768177927003,1],"darin@darinsmacstudio.lan"],"title":[[1768177927003,1],"darin@darinsmacstudio.lan"],"type":[[1768177927003,1],"darin@darinsmacstudio.lan"]},"acceptance_criteria":"- [ ] Export writes shard files, manifest.json, and meta.json with correct hashes.\n- [ ] Cache publish is atomic and uses temp dirs.\n- [ ] Export output is deterministic for a given StoreState (same bytes).","closed_at":[1768254394836,1],"closed_by":"darin@darinsmacstudio.lan","closed_reason":"superseded by bd-3m5.49, bd-3m5.50","created_at":[1768177927003,1],"created_by":"darin@darinsmacstudio.lan","description":"**Problem**\nPhase 6: implement checkpoint export to sharded JSONL plus local cache. There is no exporter for the new checkpoint layout.\n\n**Context**\n- REALTIME_PLAN.md ยง13.1, ยง13.3, ยง13.8 (layout, sharding, export, cache)\n**Files:** src/git/checkpoint/export.rs (new), src/git/checkpoint/layout.rs (new), src/git/checkpoint/cache.rs (new), src/git/checkpoint/mod.rs","design":"**Design**\n- Implement sharded JSONL layout under namespaces/<ns>/{state,tombstones,deps}/00..ff.jsonl.\n- Serialize lines in canonical JSON with deterministic sorting by key.\n- Write manifest.json and meta.json with hashes and included watermarks.\n- Add local checkpoint cache under store_dir/checkpoint_cache/<group>/ with atomic publish (tmp + rename + fsync).\n- Add tests verifying shard ordering and manifest hashes for a small StoreState.","id":"bd-3m5.20","labels":[],"priority":2,"status":"closed","title":"Phase 6: Checkpoint export + cache","type":"task"}
{"_at":[1768489208115,1],"_by":"darin@book","_v":{"acceptance_criteria":[[1768483737032,1],"darin@book"],"claim":[[1768488350740,1],"darin@book"],"description":[[1768483737032,1],"darin@book"],"design":[[1768483737032,1],"darin@book"],"estimated_minutes":[[1768483737032,1],"darin@book"],"external_ref":[[1768483737032,1],"darin@book"],"labels":[[1768483737032,1],"darin@book"],"priority":[[1768483737032,1],"darin@book"],"source_repo":[[1768483737032,1],"darin@book"],"title":[[1768483737032,1],"darin@book"],"type":[[1768483737032,1],"darin@book"]},"assignee":"darin@book","assignee_at":[1768488350740,1],"assignee_expires":1768491950740,"closed_at":[1768489208115,1],"closed_by":"darin@book","created_at":[1768483737032,1],"created_by":"darin@book","description":"","id":"bd-cxi","labels":[],"priority":2,"status":"closed","title":"tests/phase7_subscribe.rs:189 flaky Ipc(Disconnected) in phase7_subscribe_streams_events_in_order","type":"chore"}
