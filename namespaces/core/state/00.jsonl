{"_at":[1768278581850,0],"_by":"darin@darinsmcstudio2.lan","assignee":"darin@darinsmacstudio.lan","created_at":[1768271745099,0],"created_by":"darin@darinsmcstudio2.lan","description":"**Problem**\nReplay maps all SegmentHeader errors to segment_header_mismatch, including unsupported wal_format_version and header decode failures. REALTIME_ERRORS.md distinguishes wal_format_unsupported from semantic header mismatch and from corruption.\n\n**Where**\n- src/daemon/wal/segment.rs: SegmentHeader::decode reports unsupported wal format version\n- src/daemon/ops.rs: wal_replay_error_code maps SegmentHeader to segment_header_mismatch\n- src/daemon/ipc.rs: mirrored mapping\n\n**Design**\n- Add a specific error variant (or reason parsing) to detect wal_format_version mismatch and map to wal_format_unsupported with details {wal_format_version, supported}.\n- Split decode failures (bad magic/CRC/truncated header) from semantic mismatch and map to wal_corrupt (or specific corruption code) instead of segment_header_mismatch.\n\n**Acceptance**\n- Unsupported wal_format_version yields wal_format_unsupported.\n- Header decode failures yield corruption code, not segment_header_mismatch.\n- True store_id/store_epoch mismatch continues to use segment_header_mismatch.\n\n**Files**\n- src/daemon/wal/segment.rs\n- src/daemon/ops.rs\n- src/daemon/ipc.rs","id":"bd-3m5.70","labels":{"cc":{"max":{}},"entries":{}},"priority":1,"status":"closed","title":"WAL replay: map wal_format_unsupported and header decode vs mismatch","type":"bug"}
{"_at":[1768708903993,0],"_by":"darin@darinsmcstudio2.lan","acceptance_criteria":"**Acceptance**\n- [ ] Repl ActorModel implements `Representative` and uses `checker().symmetry()`.\n- [ ] State space is measurably smaller for >=3 replicas (documented in model output).\n- [ ] No invariant regressions under symmetry.","assignee":"darin@book","created_at":[1768680790093,0],"created_by":"darin@darinsmcstudio2.lan","description":"**Problem**\nReplication models will blow up in state space without symmetry reduction. We are not using Staterightâ€™s Representative/Rewrite system.\n\n**Goal**\nAdd symmetry reduction to the ActorModel replication state to keep searches tractable without weakening invariants.","design":"**Design**\n1) Implement `Representative` for the repl model state (or the auxiliary history type) to canonicalize actor identities.\n2) Use `Rewrite`/`RewritePlan` to reindex per-actor maps/sets.\n3) Validate that properties remain invariant under symmetry (no identity-sensitive checks unless intentionally pinned).\n4) Turn on `checker().symmetry()` in the example when using symmetric network modes.\n\n**References**\n- `~/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/stateright-0.31.0/src/checker/representative.rs`\n- `~/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/stateright-0.31.0/src/checker/rewrite.rs`\n- `~/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/stateright-0.31.0/examples/2pc.rs`\n- `~/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/stateright-0.31.0/examples/increment.rs`","id":"bd-5xvc","labels":{"cc":{"max":{}},"entries":{}},"priority":0,"status":"closed","title":"Stateright repl: symmetry reduction","type":"task"}
{"_at":[1769495492106,0],"_by":"darin@darinsmcstudio2.lan","assignee":"darin@darins-Mac-Studio-2.local","created_at":[1769484585015,0],"created_by":"darin@darinsmcstudio2.lan","description":"cargo clippy -p beads-rs -- -D warnings fails with manual checked division in cli/commands/{epic,show}.rs and unnecessary sort_by in cli/commands/show.rs, daemon/admin.rs, daemon/wal/memory_index.rs, git/checkpoint/cache.rs. Fix to restore clippy-clean baseline.","id":"bd-8joz","labels":{"cc":{"max":{}},"entries":{}},"priority":2,"status":"closed","title":"Fix clippy -D warnings in cli/show+epic and daemon/admin/wal/memory_index, git/checkpoint/cache","type":"chore"}
{"_at":[1768798295461,0],"_by":"darin@darinsmcstudio2.lan","assignee":"darin@book","created_at":[1768778071486,0],"created_by":"darin@darinsmcstudio2.lan","description":"tests/integration/fixtures/load_gen.rs always spawns worker threads, even when workers=1 (common in tests). Add a single-thread fast path to avoid thread spawn + atomics/mutex overhead for small loads.","id":"bd-ucph","labels":{"cc":{"max":{}},"entries":{}},"priority":3,"status":"closed","title":"LoadGenerator spawns threads even for 1 worker; add fast path","type":"chore"}
