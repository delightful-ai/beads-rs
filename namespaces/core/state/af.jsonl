{"_at":[1768428842957,1],"_by":"darin@book","_v":{"acceptance_criteria":[[1768273170014,1],"darin@darinsmacstudio.lan"],"claim":[[1768273170014,1],"darin@darinsmacstudio.lan"],"description":[[1768273170014,1],"darin@darinsmacstudio.lan"],"design":[[1768273170014,1],"darin@darinsmacstudio.lan"],"estimated_minutes":[[1768273170014,1],"darin@darinsmacstudio.lan"],"external_ref":[[1768273170014,1],"darin@darinsmacstudio.lan"],"labels":[[1768273170014,1],"darin@darinsmacstudio.lan"],"priority":[[1768273170014,1],"darin@darinsmacstudio.lan"],"source_repo":[[1768273170014,1],"darin@darinsmacstudio.lan"],"title":[[1768273170014,1],"darin@darinsmacstudio.lan"],"type":[[1768273170014,1],"darin@darinsmacstudio.lan"]},"closed_at":[1768428842957,1],"closed_by":"darin@book","created_at":[1768273170014,1],"created_by":"darin@darinsmacstudio.lan","description":"**Problem**\nRunning cargo test spawns daemon processes in temp directories that don't get cleaned up.\n\n```bash\npgrep -fl 'bd daemon run' | wc -l\n# Returns 50+\n```\n\nMost are from test temp dirs like:\n- /var/folders/.../beads-test-runtime-*/daemon.sock\n- /var/folders/.../.tmpXXXX/daemon.sock\n\n**Design**\n- Test fixtures should kill daemon processes on drop\n- Or use daemon shutdown request in test teardown\n- Consider `atexit` handler or test wrapper\n\n**Acceptance**\n- [ ] Daemon count doesn't grow after running cargo test\n- [ ] Test cleanup kills spawned daemons","id":"bd-gna","labels":[],"priority":2,"status":"closed","title":"Test daemons not cleaned up: 50+ orphan bd daemon processes","type":"bug"}
