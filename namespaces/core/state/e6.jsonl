{"_at":[1768350357483,1],"_by":"darin@book","_v":{"acceptance_criteria":[[1768271772073,1],"darin@darinsmacstudio.lan"],"claim":[[1768349271223,1],"darin@book"],"description":[[1768271772073,1],"darin@darinsmacstudio.lan"],"design":[[1768271772073,1],"darin@darinsmacstudio.lan"],"estimated_minutes":[[1768271772073,1],"darin@darinsmacstudio.lan"],"external_ref":[[1768271772073,1],"darin@darinsmacstudio.lan"],"labels":[[1768271772073,1],"darin@darinsmacstudio.lan"],"priority":[[1768271772073,1],"darin@darinsmacstudio.lan"],"source_repo":[[1768271772073,1],"darin@darinsmacstudio.lan"],"title":[[1768271772073,1],"darin@darinsmacstudio.lan"],"type":[[1768271772073,1],"darin@darinsmacstudio.lan"]},"assignee":"darin@book","assignee_at":[1768349271223,1],"assignee_expires":1768352871223,"closed_at":[1768350357483,1],"closed_by":"darin@book","created_at":[1768271772073,1],"created_by":"darin@darinsmacstudio.lan","description":"**Problem**\nstore_runtime_error_payload drops details for WAL index/replay errors, and lock permission_denied omits path/operation details. REALTIME_ERRORS.md expects structured details for machine handling.\n\n**Where**\n- src/daemon/ipc.rs: store_runtime_error_payload (WalIndex/WalReplay)\n- src/daemon/ipc.rs: store_lock_error_payload (PermissionDenied without details)\n\n**Design**\n- Extend error payload mapping to include details for WAL index/replay errors (e.g., store_epoch_mismatch, prev_sha_mismatch, index_corrupt).\n- Include permission_denied details for lock IO ({path, operation}).\n\n**Acceptance**\n- WAL/index error payloads include structured details per registry.\n- Permission denied on lock IO includes path and operation.\n\n**Files**\n- src/daemon/ipc.rs\n- src/daemon/ops.rs\n- src/core/error.rs (if new details types needed)","id":"bd-3m5.74","labels":[],"priority":1,"status":"closed","title":"IPC error payloads: include details for WAL/index + lock permission_denied","type":"bug"}
