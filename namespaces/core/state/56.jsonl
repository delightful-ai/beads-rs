{"_at":[1766124452035,0],"_by":"darin@dusk","_v":{"acceptance_criteria":[[1766116454563,0],"darin@dusk"],"claim":[[1766124451935,0],"darin@dusk"],"description":[[1766116454563,0],"darin@dusk"],"design":[[1766116454563,0],"darin@dusk"],"estimated_minutes":[[1766116454563,0],"darin@dusk"],"external_ref":[[1766116454563,0],"darin@dusk"],"labels":[[1766116454563,0],"darin@dusk"],"priority":[[1766116454563,0],"darin@dusk"],"source_repo":[[1766116454563,0],"darin@dusk"],"title":[[1766116454563,0],"darin@dusk"],"type":[[1766116454563,0],"darin@dusk"]},"assignee":"darin@dusk","assignee_at":[1766124451935,0],"assignee_expires":1766128051935,"closed_at":[1766124452035,0],"closed_by":"darin@dusk","created_at":[1766116454563,0],"created_by":"darin@dusk","description":"**Problem**\n`ensure_repo_loaded` ignores WAL read errors and WAL merge errors (`if let Ok(Some(wal_entry))` + warn on `join` failure). Corrupted WAL or merge conflicts can silently drop unsynced data.\n\n**Design**\nTreat WAL read/merge failures as fatal for load: return an OpError that surfaces the WAL issue, keep the WAL file intact, and avoid overwriting state with stale git data. Add a test that injects a corrupted WAL and asserts load returns an error.\n\n**Acceptance**\n- [ ] WAL read errors are returned to the caller (no silent ignore)\n- [ ] WAL merge conflicts return a structured error\n- [ ] WAL file is preserved on error\n- [ ] Tests cover corrupted WAL and merge failure paths\n- [ ] Tests pass\n\n**Files:** src/daemon/core.rs, src/daemon/wal.rs, src/daemon/ops.rs","id":"bd-qcz","labels":[],"priority":0,"status":"closed","title":"WAL read/merge failures must not be ignored","type":"bug"}
