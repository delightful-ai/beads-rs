{"_at":[1765676017014,0],"_by":"darin@darinsmcstudio2.lan","assignee":"darin@dusk","created_at":[1765675409821,0],"created_by":"darin@darinsmcstudio2.lan","description":"Make sync commit messages on refs/heads/beads/store more descriptive. Instead of 'sync: +1 created', show what actually changed:\n\n- created bd-xxx: \"Title here\"\n- updated bd-yyy desc: \"new description\"  \n- closed bd-zzz: \"reason\"\n- deleted bd-abc\n\nThis helps with debugging and auditing bead changes over time. Since these commits live on a separate ref (beads/store), they won't clutter the main code history.","id":"bd-49o","labels":{"cc":{"max":{}},"entries":{}},"priority":2,"status":"closed","title":"Smart commit messages from beads context","type":"feature"}
{"_at":[1768727938031,0],"_by":"darin@darinsmcstudio2.lan","assignee":"darin@book","created_at":[1768610568027,0],"created_by":"darin@darinsmcstudio2.lan","description":"Provide in-memory WalIndex (no sqlite) and test-harness wiring for deterministic, no-fsync test stores.","id":"bd-f22e","labels":{"cc":{"max":{}},"entries":{}},"priority":2,"status":"closed","title":"In-memory WAL/index backend for tests","type":"task"}
{"_at":[1769575701241,0],"_by":"darin@darinsmcstudio2.lan","acceptance_criteria":"**Acceptance**\n- [ ] Git store meta parsing gates on `format_version` via a supported-meta type.\n- [ ] Checkpoint import rejects unsupported `checkpoint_format_version` for both file and export paths.\n- [ ] Downstream code accepts only supported-meta types (no raw version fields).\n- [ ] Tests cover unsupported version rejection and supported version acceptance.","created_at":[1769573227843,0],"created_by":"darin@darinsmcstudio2.lan","description":"**Problem**\nFormat/version gating is optional across sync/checkpoint layers:\n- Git store `parse_meta` returns `format_version` but callers do not enforce it (e.g., `crates/beads-rs/src/git/sync.rs`).\n- Checkpoint import does not check `checkpoint_format_version` at all in `crates/beads-rs/src/git/checkpoint/import.rs`.\n\nThis is a global invariant that is enforced ad-hoc, creating drift risk and silent incompatibilities.\n\n**Files:**\n- `crates/beads-rs/src/git/wire.rs`\n- `crates/beads-rs/src/git/sync.rs`\n- `crates/beads-rs/src/git/checkpoint/import.rs`\n- `crates/beads-rs/src/git/checkpoint/meta.rs`\n- `crates/beads-rs/src/git/checkpoint/publish.rs`","design":"**Design**\nIntroduce typed \"supported meta\" gates so anything past parsing is guaranteed to be on a supported version.\n\nConcrete plan:\n1) Add `SupportedStoreMeta` and `SupportedCheckpointMeta` types with constructors that validate format versions against constants.\n2) Change `parse_meta` to either return `SupportedStoreMeta` or provide `parse_supported_meta` used everywhere.\n3) Add version gating to checkpoint import (both disk-based and in-memory export) using `SupportedCheckpointMeta`.\n4) Make all downstream code accept only the supported meta types so version checks are impossible to skip.\n\n**Design Notes**\n- Keep error messages explicit about expected vs actual versions.\n- When new versions are introduced, add the gate once in the supported meta constructors.","id":"bd-igzs","labels":{"cc":{"max":{}},"entries":{"scatter":[{"counter":13781616577253221021,"replica":"ff73b6cb-d206-6896-fec8-2ab7d577d23e"}],"tech-debt":[{"counter":18265375825415473693,"replica":"054688af-7f36-d112-157d-7754a3e71d32"}],"validation":[{"counter":11568530239624193259,"replica":"700d256f-9d30-224b-ed88-3272c1835928"}]}},"priority":1,"status":"closed","title":"Gate store/checkpoint meta on supported versions","type":"chore"}
