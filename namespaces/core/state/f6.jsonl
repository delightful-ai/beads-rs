{"_at":[1768535059025,0],"_by":"darin@darinsmcstudio2.lan","acceptance_criteria":"- [ ] WalIndex::record_event does not accept an unused request_sha256 parameter.\n- [ ] Call sites and tests updated; no unused variables remain.","assignee":"darin@book","created_at":[1768503840422,0],"created_by":"darin@darinsmcstudio2.lan","description":"**Problem**\nWalIndexTxn::record_event accepts request_sha256 but immediately discards it (let _ = request_sha256). Callers still pass a value, implying it is stored. This hides information loss and is confusing (error_design principle: preserve info until an explicit boundary).\n\n**Files:** src/daemon/wal/index.rs, src/daemon/executor.rs, src/daemon/core.rs","design":"**Design**\n- Remove request_sha256 from the WalIndex trait method signature and all call sites, OR store it in the events table if it is truly needed.\n- Prefer removal (spec says request_sha256 belongs to client_requests; event index is for WAL offsets).\n- Update tests and any documentation/comments accordingly.","id":"bd-ca2d","labels":{"cc":{"max":{}},"entries":{}},"priority":3,"status":"closed","title":"Remove unused request_sha256 from WalIndex::record_event","type":"chore"}
{"_at":[1768622499928,0],"_by":"darin@darinsmcstudio2.lan","created_at":[1768622499928,0],"created_by":"darin@darinsmcstudio2.lan","description":"**Problem**\nGo beads supports tracks dependencies for convoy issues. Convoys track completion of multiple items across projects with reactive completion semantics. This is non-blocking cross-project reference tracking. beads-rs needs this.\n\n**How it works in Go beads**\n- Dependency type: `DepTracks` (in internal/types/types.go)\n- Convoy issue type tracks multiple issues\n- Non-blocking: doesn't prevent work from starting\n- Reactive: convoy can auto-close when all tracked items close\n- Used for cross-project coordination without blocking\n\n**Design for Rust**\n1. Add `Tracks` variant to `DepKind` enum in src/core/domain.rs\n2. Mark it as non-DAG-enforcing (non-blocking)\n3. Add convoy issue type (separate bead, see parent epic)\n4. Consider: convoy auto-closure logic\n   - When all tracked items close, close convoy?\n   - Or require manual closure?\n\n**Design considerations**\n- Directionality: convoy -> tracked-issue (Go's choice)\n- Query needs: \"list all items tracked by convoy X\"\n- Should tracks support tracking external refs?\n  * Enables cross-repo convoy tracking\n- Convoy completion predicate: all closed? any closed? custom?\n\n**Design questions for human review**\n- Should tracks trigger notifications when items close?\n- Should we support weighted tracking (some items more important)?\n- Should convoy type be required for tracks deps?\n  * Or allow any bead to track others?\n- Auto-closure timing: immediate on last item? batched?\n\n**Files to study**\n- tmp/beads/internal/types/types.go - DepTracks, TypeConvoy\n- tmp/beads/cmd/bd/dep.go - tracks usage in dep list\n- Go beads convoy implementation (if exists)\n\n**Acceptance**\n- [ ] Tracks added to DepKind enum\n- [ ] Non-blocking (doesn't affect ready work)\n- [ ] Can query \"what does convoy X track\"\n- [ ] Supports convoy -> issue directionality\n- [ ] Cargo fmt, clippy, test pass\n\n**Note**\nThis is foundational for convoy support. Full convoy features (auto-closure, reactive completion) likely need separate beads.","id":"bd-ze0x.37","labels":{"cc":{"max":{}},"entries":{"human-needed":[{"counter":16803162945187070083,"replica":"3f0a6a8e-085d-d2ad-37fa-1e7a9f8b9185"}]}},"priority":2,"status":"open","title":"Add tracks dependency type for convoy cross-project tracking","type":"feature"}
