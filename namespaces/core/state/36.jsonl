{"_at":[1768914816832,0],"_by":"darin@darinsmcstudio2.lan","acceptance_criteria":"- [ ] serialize/parse roundtrip retains OR-Set metadata\n\n**Invariants to re-verify**\n- [ ] Checkpoint wire roundtrip preserves OR-Set metadata + notes","assignee":"darin@book","created_at":[1768894654095,0],"created_by":"darin@darinsmcstudio2.lan","description":"**Problem**\nWe must ensure checkpoint serialization preserves OR-Set state and notes.\n\n**Files**\n- src/git/wire.rs\n- src/core/state.rs","design":"Add tests to serialize/parse state+deps+notes and verify equivalence. Include dots/cc preservation and deterministic ordering.","id":"bd-3zoj.17","labels":{"cc":{"max":{}},"entries":{}},"priority":2,"status":"closed","title":"Tests: git wire roundtrip with OR-Set + notes","type":"task"}
{"_at":[1767993159522,0],"_by":"darin@darinsmcstudio2.lan","acceptance_criteria":"- [ ] New model file exists (e.g., beads_stateright_models/examples/wal_crash_recovery_machine.rs) and compiles\n- [ ] Properties cover no origin_seq reuse, receipt honesty, and recovery catch-up (todo.md Model #8)\n- [ ] Model doc comments reference REALTIME_PLAN.md §6.5 and §0.11\n- [ ] Example runs via cargo run --example wal_crash_recovery_machine (or equivalent)","assignee":"darin@darinsmacstudio.lan","created_at":[1767985350339,0],"created_by":"darin@darinsmcstudio2.lan","description":"**Problem**\nCrash consistency and origin_seq uniqueness must hold across the append/fsync/index/apply/receipt pipeline (REALTIME_PLAN.md §6.5). There is no model that explores crash cut points and recovery behavior.\n\n**Design Notes**\nThis is an abstract model of ordering, not a full WAL implementation.","design":"**Design**\nCreate a Stateright model that encodes the durability ordering from Plan §6.5: allocate seq, write record, fsync, index commit, apply, receipt finalize, reply. Allow a crash at each cut point and a recovery step that replays durable records and reconciles PENDING receipts (Plan §0.11).\n\nProperties: no origin_seq reuse after recovery, LocalFsync receipts imply event survives crash, and recovery finds durable-but-unindexed events (todo.md Model #8).\n\nKeep the state small (counters + flags) but align the cut points to the plan language.","id":"bd-hjm.8","labels":{"cc":{"max":{}},"entries":{"modeling":[{"counter":578818584251418463,"replica":"8908338a-106a-a28d-bb7f-172d6f7205b7"}],"realtime":[{"counter":7762292334208004488,"replica":"8863a426-4d1c-7cbd-2ad9-fd8e3ec740fc"}],"stateright":[{"counter":8334774333147728962,"replica":"a7a96c71-33cf-8c4e-a97c-fed149bd27bf"}]}},"priority":2,"status":"closed","title":"Stateright: WAL crash recovery cut points","type":"feature"}
