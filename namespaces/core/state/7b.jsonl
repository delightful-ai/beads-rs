{"_at":[1768475322370,1],"_by":"darin@book","_v":{"acceptance_criteria":[[1768454400799,1],"darin@book"],"claim":[[1768474453451,1],"darin@book"],"description":[[1768454400799,1],"darin@book"],"design":[[1768454400799,1],"darin@book"],"estimated_minutes":[[1768454400799,1],"darin@book"],"external_ref":[[1768454400799,1],"darin@book"],"labels":[[1768454400799,1],"darin@book"],"priority":[[1768454400799,1],"darin@book"],"source_repo":[[1768454400799,1],"darin@book"],"title":[[1768454400799,1],"darin@book"],"type":[[1768454400799,1],"darin@book"]},"assignee":"darin@book","assignee_at":[1768474453451,1],"assignee_expires":1768478053451,"closed_at":[1768475322370,1],"closed_by":"darin@book","created_at":[1768454400799,1],"created_by":"darin@book","description":"**Problem**\nREALTIME_PLAN §6.1/§6.2 calls for a store‑local `index_durability_mode = cache | durable` setting. The code always opens `SqliteWalIndex` with `IndexDurabilityMode::Cache` (e.g., `StoreRuntime::open`, fsck/rebuild helpers). There is no config knob or store‑local setting.\n\n**Design**\n- Add a store‑local setting (namespaces.toml or a new `store_config.toml`) or config‑layer override to choose `cache` vs `durable`.\n- Thread the setting into `SqliteWalIndex::open` calls, including rebuild/fsck paths.\n\n**Acceptance**\n- [ ] Index durability mode is configurable and persisted per store.\n- [ ] All index open paths respect the configured mode.\n- [ ] Tests cover both modes.\n\n**Files:** src/daemon/store_runtime.rs, src/daemon/wal/index.rs, src/daemon/wal/fsck.rs, src/config.rs (or new config module)","id":"bd-3m5.104","labels":[],"priority":2,"status":"closed","title":"WalIndex durability mode is hardcoded to cache","type":"bug"}
