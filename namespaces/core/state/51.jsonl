{"_at":[1766137448134,0],"_by":"darin@darinsmcstudio2.lan","assignee":"darin@dusk","created_at":[1766136140603,0],"created_by":"darin@darinsmcstudio2.lan","description":"","id":"bd-2ei","labels":{"cc":{"max":{}},"entries":{}},"priority":3,"status":"closed","title":"Expose sync retry backoff (next retry time) in daemon/CLI status","type":"chore"}
{"_at":[1768251464501,0],"_by":"darin@darinsmcstudio2.lan","created_at":[1768178839514,0],"created_by":"darin@darinsmcstudio2.lan","description":"**Problem**\nOperators need offline tool to verify and repair WAL/index when daemon is stopped.\n\n**Context**\n- REALTIME_PLAN.md ยง5.2 (offline repair, online vs offline boundary)\n\n**Design**\n- CLI: `bd store fsck --store-id <id>`\n- Scans wal/<ns> segments, validates headers, frame CRCs, sha256, prev_sha continuity, per-(ns,origin) contiguity\n- Cross-checks wal.sqlite offsets if present\n- Emits deterministic FsckReport schema (compatible with admin.doctor later)\n- `bd store fsck --repair`: truncate corrupted tails, quarantine mid-file segments (move to quarantine/), rebuild wal.sqlite\n\n**Acceptance**\n- [ ] bd store fsck validates WAL segments offline\n- [ ] --repair truncates tails and quarantines bad segments\n- [ ] Report uses a stable FsckReport schema for later admin.doctor reuse\n- [ ] Tests with golden corpus fixtures\n\n**Files:** src/cli/commands/store.rs, src/daemon/wal/fsck.rs (new)","id":"bd-3m5.37","labels":{"cc":{"max":{}},"entries":{}},"priority":2,"status":"closed","title":"Phase 3: bd store fsck offline verification tool","type":"task"}
