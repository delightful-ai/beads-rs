{"_at":[1766137448134,0],"_by":"darin@dusk","_v":{"acceptance_criteria":[[1766136140603,0],"darin@dusk"],"claim":[[1766136166623,0],"darin@dusk"],"description":[[1766136140603,0],"darin@dusk"],"design":[[1766136140603,0],"darin@dusk"],"estimated_minutes":[[1766136140603,0],"darin@dusk"],"external_ref":[[1766136140603,0],"darin@dusk"],"labels":[[1766136140603,0],"darin@dusk"],"priority":[[1766136140603,0],"darin@dusk"],"source_repo":[[1766136140603,0],"darin@dusk"],"title":[[1766136140603,0],"darin@dusk"],"type":[[1766136140603,0],"darin@dusk"]},"assignee":"darin@dusk","assignee_at":[1766136166623,0],"assignee_expires":1766139766623,"closed_at":[1766137448134,0],"closed_by":"darin@dusk","created_at":[1766136140603,0],"created_by":"darin@dusk","description":"","id":"bd-2ei","labels":[],"priority":3,"status":"closed","title":"Expose sync retry backoff (next retry time) in daemon/CLI status","type":"chore"}
{"_at":[1768251464501,1],"_by":"darin@darinsmacstudio.lan","_v":{"acceptance_criteria":[[1768178839514,1],"darin@darinsmacstudio.lan"],"claim":[[1768178839514,1],"darin@darinsmacstudio.lan"],"description":[[1768195905702,1],"darin@darinsmacstudio.lan"],"design":[[1768178839514,1],"darin@darinsmacstudio.lan"],"estimated_minutes":[[1768178839514,1],"darin@darinsmacstudio.lan"],"external_ref":[[1768178839514,1],"darin@darinsmacstudio.lan"],"labels":[[1768178839514,1],"darin@darinsmacstudio.lan"],"priority":[[1768178839514,1],"darin@darinsmacstudio.lan"],"source_repo":[[1768178839514,1],"darin@darinsmacstudio.lan"],"title":[[1768185432651,1],"darin@darinsmacstudio.lan"],"type":[[1768178839514,1],"darin@darinsmacstudio.lan"]},"closed_at":[1768251464501,1],"closed_by":"darin@darinsmacstudio.lan","created_at":[1768178839514,1],"created_by":"darin@darinsmacstudio.lan","description":"**Problem**\nOperators need offline tool to verify and repair WAL/index when daemon is stopped.\n\n**Context**\n- REALTIME_PLAN.md ยง5.2 (offline repair, online vs offline boundary)\n\n**Design**\n- CLI: `bd store fsck --store-id <id>`\n- Scans wal/<ns> segments, validates headers, frame CRCs, sha256, prev_sha continuity, per-(ns,origin) contiguity\n- Cross-checks wal.sqlite offsets if present\n- Emits deterministic FsckReport schema (compatible with admin.doctor later)\n- `bd store fsck --repair`: truncate corrupted tails, quarantine mid-file segments (move to quarantine/), rebuild wal.sqlite\n\n**Acceptance**\n- [ ] bd store fsck validates WAL segments offline\n- [ ] --repair truncates tails and quarantines bad segments\n- [ ] Report uses a stable FsckReport schema for later admin.doctor reuse\n- [ ] Tests with golden corpus fixtures\n\n**Files:** src/cli/commands/store.rs, src/daemon/wal/fsck.rs (new)","id":"bd-3m5.37","labels":[],"priority":2,"status":"closed","title":"Phase 3: bd store fsck offline verification tool","type":"task"}
