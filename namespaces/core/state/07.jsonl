{"_at":[1768290954011,0],"_by":"darin@darinsmcstudio2.lan","acceptance_criteria":"- [ ] IPC mutation success responses include DurabilityReceipt in JSON mode.\n- [ ] Durability timeouts return ErrorPayload with retryable=true and receipt populated.\n- [ ] ErrorPayload schema matches REALTIME_ERRORS.md (code/message/retryable/details/receipt).\n- [ ] API JSON types expose receipts without lossy view structs.","assignee":"darin@darinsmacstudio.lan","created_at":[1768177869856,0],"created_by":"darin@darinsmcstudio2.lan","description":"**Problem**\nPhase 4: update IPC response shapes for receipts and error payloads. Current `src/daemon/ipc.rs` does not return DurabilityReceipt, and ErrorPayload does not match REALTIME_ERRORS.md.\n\n**Context**\n- REALTIME_PLAN.md ยง0.14 (IPC protocol evolution), ยง16.1 (response fields and error payload), ยง16.3 (CLI flags)\n\n**Files:** src/daemon/ipc.rs, src/api/mod.rs, src/cli/mod.rs, src/cli/commands/*, REALTIME_ERRORS.md\n\n**Design**\n- Add DurabilityReceipt to success responses and to timeout errors when waiting for replicated durability.\n- Replace ErrorPayload shape to `{ code, message, retryable, retry_after_ms?, details?, receipt? }` and keep error codes aligned with REALTIME_ERRORS.md.\n- Ensure API JSON types expose receipts without lossy view structs.\n- Request field additions and CLI flag plumbing live in bd-3m5.51.","design":"**Design**\n- Add optional `namespace`, `durability`, and `client_request_id` fields to mutation requests with defaults (namespace=core, durability=LocalFsync).\n- Add DurabilityReceipt to success responses and to timeout errors when waiting for replicated durability.\n- Replace ErrorPayload shape to `{ code, message, retryable, retry_after_ms?, details?, receipt? }` and keep error codes aligned with REALTIME_ERRORS.md.\n- Plumb CLI flags `--namespace`, `--durability`, `--client-request-id` to IPC requests.","id":"bd-3m5.14","labels":{"cc":{"max":{}},"entries":{}},"priority":1,"status":"closed","title":"Phase 4: IPC requests + receipts (namespace, durability, client_request_id)","type":"task"}
{"_at":[1766137444231,0],"_by":"darin@darinsmcstudio2.lan","assignee":"darin@dusk","created_at":[1766136137302,0],"created_by":"darin@darinsmcstudio2.lan","description":"","id":"bd-6wr","labels":{"cc":{"max":{}},"entries":{}},"priority":2,"status":"closed","title":"Detect force-push and surface explicit warning in sync status","type":"bug"}
{"_at":[1768542583816,0],"_by":"darin@darinsmcstudio2.lan","acceptance_criteria":"- [ ] Integration tests are grouped by feature.\n- [ ] `cargo test` passes with the same coverage.\n- [ ] No change to fixture behavior.","assignee":"darin@book","created_at":[1768508733928,0],"created_by":"darin@darinsmcstudio2.lan","description":"**Problem**\n- Integration tests are phase-based (`tests/phase*`) which makes it hard to find feature coverage.\n- New contributors must know implementation phases to find tests.\n\n**Files:**\n- tests/phase*.rs\n- tests/fixtures/*","design":"- Rename/move phase tests into feature-based files (`tests/wal_*`, `tests/repl_*`, `tests/checkpoint_*`, `tests/admin_*`, etc).\n- Keep test contents unchanged; only file names/organization change.\n- Update any references in docs if needed.","id":"bd-qrlt","labels":{"cc":{"max":{}},"entries":{}},"priority":3,"status":"closed","title":"Reorganize integration tests by feature","type":"chore"}
