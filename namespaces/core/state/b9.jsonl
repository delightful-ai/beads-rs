{"_at":[1768364742677,0],"_by":"darin@darinsmcstudio2.lan","acceptance_criteria":"- [ ] Canonical JSON helper emits stable bytes across runs.\n- [ ] manifest_hash and content_hash computed per plan.\n- [ ] Tests cover a minimal checkpoint meta example.","assignee":"darin@book","created_at":[1768177917713,0],"created_by":"darin@darinsmcstudio2.lan","description":"**Problem**\nPhase 6: implement canonical JSON helper and checkpoint manifest and meta structs. There is no checkpoint lane module yet, so manifest and meta definitions do not exist.\n\n**Context**\n- REALTIME_PLAN.md §13.3-13.5 (canonical JSON, manifest.json, meta.json)\n**Files:** src/git/checkpoint/json_canon.rs (new), src/git/checkpoint/manifest.rs (new), src/git/checkpoint/meta.rs (new), src/git/checkpoint/mod.rs (new)","design":"**Design**\n- Add `to_canon_json_bytes<T: Serialize>(v: &T) -> Vec<u8>` with sorted key ordering and no extra whitespace.\n- Define Manifest and Meta structs with fields from plan; implement content_hash and manifest_hash calculation.\n- Add tests verifying canonical JSON stability and hash determinism.","id":"bd-3m5.19","labels":{"cc":{"max":{}},"entries":{}},"priority":2,"status":"closed","title":"Phase 6: Checkpoint canonical JSON + manifest/meta structs","type":"task"}
{"_at":[1768918924482,0],"_by":"darin@darinsmcstudio2.lan","acceptance_criteria":"- [ ] git sync compiles without remap\n- [ ] collisions handled by join\n\n**Invariants to re-verify**\n- [ ] Git sync no longer remaps IDs; collisions handled by join","assignee":"darin@book","created_at":[1768894653058,0],"created_by":"darin@darinsmcstudio2.lan","description":"**Problem**\nGit collision remap is incompatible with deterministic collision resolution.\n\n**Files**\n- src/git/collision.rs\n- src/git/sync.rs","design":"Remove remap usage and rely on CanonicalState::join + lineage tombstones for collisions.","id":"bd-3zoj.12","labels":{"cc":{"max":{}},"entries":{}},"priority":2,"status":"closed","title":"Remove git collision remap path","type":"task"}
{"_at":[1768432004656,0],"_by":"darin@darinsmcstudio2.lan","assignee":"darin@book","closed_reason":"Captured samply-test-suite.json; top samples in nanosleep/semwait + bd process wait time; identified IPC ping + extra create round-trip + test data-dir lock as bottlenecks.","created_at":[1768422572434,0],"created_by":"darin@darinsmcstudio2.lan","description":"Capture samply profile for cargo test and summarize hotpaths.","id":"bd-6jk","labels":{"cc":{"max":{}},"entries":{}},"priority":2,"status":"closed","title":"Profile test suite with samply","type":"chore"}
{"_at":[1769552514187,0],"_by":"darin@darinsmcstudio2.lan","assignee":"darin@darins-Mac-Studio-2.local","created_at":[1769516758309,0],"created_by":"darin@darinsmcstudio2.lan","description":"","id":"bd-r0rk","labels":{"cc":{"max":{}},"entries":{}},"priority":2,"status":"closed","title":"Fix failing test mutation_span_includes_realtime_context missing store_id","type":"bug"}
{"_at":[1768778040828,0],"_by":"darin@darinsmcstudio2.lan","assignee":"darin@book","created_at":[1768774750085,0],"created_by":"darin@darinsmcstudio2.lan","description":"**Problem**\nMetrics are emitted as `tracing::info!` events and are filtered out unless global log level enables INFO. There is no configuration to enable/disable or tune metric emission.\n\n**Design**\n- Introduce `metrics` config (e.g., `metrics.enabled`, `metrics.level`, optional `metrics.target`).\n- Add env overrides (e.g., `BD_METRICS`, `BD_METRICS_LEVEL`).\n- Update `daemon::metrics` to respect config (no‑op when disabled, emit at configured level/target).\n\n**Acceptance**\n- [ ] Metrics emission can be toggled and leveled via config/env.\n- [ ] Default behavior matches current output for daemon with INFO logging.\n- [ ] Tests cover config/env overrides and disabled mode.\n\n**Files:** src/config/schema.rs, src/config/merge.rs, src/telemetry.rs (if needed), src/daemon/metrics.rs","id":"bd-r330","labels":{"cc":{"max":{}},"entries":{}},"priority":2,"status":"closed","title":"Observability: make metrics emission configurable","type":"feature"}
