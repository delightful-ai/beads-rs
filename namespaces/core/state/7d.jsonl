{"_at":[1768081549513,0],"_by":"darin@darinsmcstudio2.lan","assignee":"darin@darinsmacstudio.lan","created_at":[1768080568102,0],"created_by":"darin@darinsmcstudio2.lan","description":"**Problem**\nStateright models in `beads_stateright_models` still reflect v0.4 realtime spec (self-hashing envelopes, unknown-key preservation, GC marker events, PENDING/COMMITTED idempotency). REALTIME_PLAN.md v0.5 simplified hashing, removed unknown-key preservation and GitCheckpointed durability, and deferred GC markers. Models should match v0.5.\n\n**Design**\n- Update `beads_stateright_models/src/realtime_types_sketch.rs` to v0.5: hash over EventBody bytes, sha/prev in headers, no unknown-key preservation, no NamespaceGcMarker, no GitCheckpointed.\n- Update toy hashing helpers (`beads_stateright_models/src/toy_codec.rs`) and models (`beads_stateright_models/examples/hash_prev_machine.rs`, `beads_stateright_models/examples/canonical_hash_machine.rs`) to use v0.5 hash/prev semantics.\n- Update idempotency model (`beads_stateright_models/examples/idempotency_receipt_machine.rs`) to use stable idempotency mapping (no PENDING/COMMITTED receipts).\n- Remove or mark GC floor model as deferred in v0.5.\n- Refresh doc comments/README/todo in the models crate to reference v0.5 sections.\n\n**Acceptance**\n- [ ] All models compile under v0.5 assumptions (no v0.4-only features).\n- [ ] Hash/prev models verify sha over EventBody bytes and use header prev_sha semantics.\n- [ ] Idempotency model reflects stable request mapping (no pending/committed states).\n- [ ] GC floor example is removed or explicitly marked deferred for v0.5.\n- [ ] `beads_stateright_models` docs mention v0.5 plan alignment.\n- [ ] Tests (model examples) still run.\n\n**Files:**\n- beads_stateright_models/src/realtime_types_sketch.rs\n- beads_stateright_models/src/toy_codec.rs\n- beads_stateright_models/examples/hash_prev_machine.rs\n- beads_stateright_models/examples/canonical_hash_machine.rs\n- beads_stateright_models/examples/idempotency_receipt_machine.rs\n- beads_stateright_models/examples/gc_floor_machine.rs\n- beads_stateright_models/README.md\n- beads_stateright_models/todo.md","id":"bd-2iv","labels":{"cc":{"max":{}},"entries":{}},"priority":2,"status":"closed","title":"Update stateright models for REALTIME_PLAN v0.5","type":"task"}
{"_at":[1770673650107,0],"_by":"darin@darinsmcstudio2.lan","assignee":"darin@darinsmcstudio2.lan","created_at":[1770668709339,0],"created_by":"darin@darinsmcstudio2.lan","description":"","id":"bd-6f7t","labels":{"cc":{"max":{}},"entries":{}},"priority":3,"status":"closed","title":"Deduplicate beads-cli command helpers flagged by Bugbot (fmt_wall_ms/fetch_issue)","type":"chore"}
