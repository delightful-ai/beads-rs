{"_at":[1769775226614,0],"_by":"darin@darinsmcstudio2.lan","acceptance_criteria":"**Acceptance**\n- [ ] A single read projection type exists in `beads-core` and is derived from `BeadView`.\n- [ ] API `Issue` and `IssueSummary` are created from the projection, not by re-deriving fields from `BeadView`.\n- [ ] Go compat and git/checkpoint snapshot generation uses the projection as input.\n- [ ] Removed or consolidated redundant conversions across crates.\n- [ ] Tests cover projection correctness for key fields (status, claim, timestamps, labels).","assignee":"darin@darins-Mac-Studio-2.local","created_at":[1769573188480,0],"created_by":"darin@darinsmcstudio2.lan","description":"**Problem**\nThe codebase maintains multiple parallel \"view\" shapes for bead state:\n- `BeadView` in `crates/beads-core/src/bead.rs`\n- API read models (`Issue`, `IssueSummary`) in `crates/beads-api/src/issues.rs`\n- Go-compat read model in `crates/beads-rs/src/compat/go_schema.rs`\n- Git wire view in `crates/beads-rs/src/git/wire.rs`\n- Checkpoint wire view in `crates/beads-core/src/wire_bead.rs`\n\nAny field change requires updating multiple representations and conversions, spreading domain knowledge across crates. This is translation + scatter and drives drift risk.\n\n**Files:**\n- `crates/beads-core/src/bead.rs`\n- `crates/beads-api/src/issues.rs`\n- `crates/beads-rs/src/compat/go_schema.rs`\n- `crates/beads-rs/src/git/wire.rs`\n- `crates/beads-core/src/wire_bead.rs`","design":"**Design**\nIntroduce a single authoritative read projection for beads and derive all external views from it.\n\nConcrete plan:\n1) Define `BeadProjection` (or similar) in `beads-core` with the normalized read fields needed across API/CLI/compat (id, title, status, labels, claims, timestamps, deps metadata, etc.).\n2) Add `impl From<&BeadView> for BeadProjection` (or `BeadProjection::from_view`) so projection is computed, not stored.\n3) Update API models (`Issue`, `IssueSummary`) to derive from `BeadProjection` rather than re-reading `BeadView` directly.\n4) Update Go compatibility serialization and git/checkpoint snapshot generation to use `BeadProjection` as their input.\n5) Remove ad-hoc, repeated field extraction where possible (especially where the same fields are recomputed in multiple places).\n\n**Design Notes**\n- Keep the projection focused on read surfaces; it should not become a second canonical state. It is derived, not stored.\n- Where a view needs data not in the projection (e.g., notes text concatenation), make that explicitly a local computation.","id":"bd-y06u","labels":{"cc":{"max":{}},"entries":{"scatter":[{"counter":14870053164861002409,"replica":"559b20a3-9581-648d-4667-ea46e152bf1f"}],"tech-debt":[{"counter":4136133385536648194,"replica":"325712e0-45b5-0d67-d915-462acb9fa10a"}],"translation":[{"counter":6831323290834555527,"replica":"bbb1fe9e-cd3c-60ea-544c-997e456a9a48"}]}},"priority":3,"status":"closed","title":"Single authoritative read projection","type":"chore"}
