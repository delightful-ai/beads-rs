{"_at":[1768622420344,0],"_by":"darin@darinsmcstudio2.lan","created_at":[1768622420344,0],"created_by":"darin@darinsmcstudio2.lan","description":"**Problem**\nbeads-rs needs wisps - ephemeral molecules that never sync to JSONL. Wisps are crucial for operational workflows (patrols, releases, health checks) that shouldn't clutter git history.\n\n**What are Wisps?**\nWisps are ephemeral issues with Ephemeral=true flag:\n- Created: bd mol wisp <proto> or bd create --ephemeral\n- Stored: In SQLite (.beads/beads.db) with Ephemeral=true\n- Excluded: From JSONL export (never sync to git)\n- Lifecycle: Either squash to digest OR burn without trace\n- Use cases: Patrol cycles, release workflows, health checks, diagnostics\n\n**How it Works (Go beads)**\n1. Create wisp: Sets Ephemeral=true on all spawned issues\n2. Execution: Normal bd operations work on wisp issues\n3. Export filtering: autoflush.go skips issues where Ephemeral=true\n4. Cleanup: bd mol squash <id> OR bd mol burn <id>\n5. GC: bd mol wisp gc removes orphaned old wisps\n\n**Phase Metaphor**\n- Solid (proto): Template\n- Liquid (mol): Persistent work via bd pour\n- Vapor (wisp): Ephemeral work via bd mol wisp\n\n**Design**\nThe Ephemeral flag is already in Go Issue struct. In Rust:\n1. Add ephemeral: bool to Issue (with Lww<bool>)\n2. Export filter: Skip issues where ephemeral.value == true\n3. Wisp commands: bd mol wisp create <proto>\n4. Lifecycle commands: squash, burn, gc\n\n**Files to Study (Go beads)**\n- cmd/bd/wisp.go - wisp creation and management\n- cmd/bd/autoflush.go - export filtering (line ~200: skip ephemeral)\n- cmd/bd/mol_squash.go - compress wisps to digest\n- cmd/bd/mol_burn.go - delete without trace\n- docs/MOLECULES.md - vapor phase explanation\n\n**Acceptance**\n- [ ] Issue.ephemeral field added (Lww<bool>)\n- [ ] Export skips ephemeral issues\n- [ ] bd mol wisp create command\n- [ ] bd mol wisp list command\n- [ ] bd mol wisp gc command\n- [ ] bd mol squash compresses wisps\n- [ ] bd mol burn deletes wisps\n- [ ] Tests for ephemeral lifecycle\n","id":"bd-ze0x.11","labels":{"cc":{"max":{}},"entries":{"human-needed":[{"counter":12387313066889556085,"replica":"11e94383-193a-fa15-06ed-f9d437376602"}]}},"priority":1,"status":"open","title":"Add wisp system to beads-rs","type":"epic"}
