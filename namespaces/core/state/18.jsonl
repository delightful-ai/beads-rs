{"_at":[1767993463416,1],"_by":"darin@darinsmacstudio.lan","_v":{"acceptance_criteria":[[1767985369638,1],"darin@darinsmacstudio.lan"],"claim":[[1767993347155,1],"darin@darinsmacstudio.lan"],"description":[[1767985369638,1],"darin@darinsmacstudio.lan"],"design":[[1767985369638,1],"darin@darinsmacstudio.lan"],"estimated_minutes":[[1767985369638,1],"darin@darinsmacstudio.lan"],"external_ref":[[1767985369638,1],"darin@darinsmacstudio.lan"],"labels":[[1767985369638,1],"darin@darinsmacstudio.lan"],"priority":[[1767985369638,1],"darin@darinsmacstudio.lan"],"source_repo":[[1767985369638,1],"darin@darinsmacstudio.lan"],"title":[[1767985369638,1],"darin@darinsmacstudio.lan"],"type":[[1767985369638,1],"darin@darinsmacstudio.lan"]},"acceptance_criteria":"- [ ] New model file exists (e.g., beads_stateright_models/examples/admission_overload_machine.rs) and compiles\n- [ ] Properties cover priority ordering and overload shedding per REALTIME_PLAN.md ยง0.19\n- [ ] Example runs via cargo run --example admission_overload_machine (or equivalent)","assignee":"darin@darinsmacstudio.lan","assignee_at":[1767993347155,1],"assignee_expires":1767996947155,"closed_at":[1767993463416,1],"closed_by":"darin@darinsmacstudio.lan","created_at":[1767985369638,1],"created_by":"darin@darinsmacstudio.lan","description":"**Problem**\nThe plan defines admission priority and overload shedding (REALTIME_PLAN.md ยง0.19). There is no model to validate that local IPC mutations are prioritized over replication ingest and background work.\n\n**Design Notes**\nThis is a lightweight model of a priority queue with bounded capacity.","design":"**Design**\nAdd a Stateright model that simulates an AdmissionController with prioritized queues: IPC mutations > replication ingest > WANT servicing > checkpoint/scrub (Plan ยง0.19). Model bounded queue capacity and drop/close behavior when overloaded.\n\nProperties: local IPC is not starved by background work; replication is the first to shed under overload; no unbounded queues. Tie these to the plan invariants.","id":"bd-hjm.10","labels":["modeling","realtime","stateright"],"priority":3,"status":"closed","title":"Stateright: admission + overload shedding priorities","type":"feature"}
{"_at":[1767919576880,1],"_by":"darin@darinsmacstudio.lan","_v":{"acceptance_criteria":[[1767916497452,1],"darin@darinsmacstudio.lan"],"claim":[[1767919467317,1],"darin@darinsmacstudio.lan"],"description":[[1767916497452,1],"darin@darinsmacstudio.lan"],"design":[[1767916497452,1],"darin@darinsmacstudio.lan"],"estimated_minutes":[[1767916497452,1],"darin@darinsmacstudio.lan"],"external_ref":[[1767916497452,1],"darin@darinsmacstudio.lan"],"labels":[[1767916497452,1],"darin@darinsmacstudio.lan"],"priority":[[1767916497452,1],"darin@darinsmacstudio.lan"],"source_repo":[[1767916497452,1],"darin@darinsmacstudio.lan"],"title":[[1767916497452,1],"darin@darinsmacstudio.lan"],"type":[[1767916497452,1],"darin@darinsmacstudio.lan"]},"assignee":"darin@darinsmacstudio.lan","assignee_at":[1767919467317,1],"assignee_expires":1767923067317,"closed_at":[1767919576880,1],"closed_by":"darin@darinsmacstudio.lan","created_at":[1767916497452,1],"created_by":"darin@darinsmacstudio.lan","description":"**Problem**\n`resolve_description` is duplicated in `src/cli/commands/create.rs` and `src/cli/commands/update.rs`. The duplicated logic increases drift risk (different error messages or behavior) and makes it harder to reason about CLI validation.\n\n**Design**\nExtract a shared helper into `src/cli/mod.rs` (or `src/cli/commands/mod.rs`) that resolves `--description` and `--body`:\n- Add `fn resolve_description(description: Option<String>, body: Option<String>) -> Result<Option<String>>` returning the same validation error as today.\n- Replace both call sites in create/update with the shared helper.\n- Keep error messages identical and ensure the helper stays CLI-only (no daemon changes).\n\n**Design Notes**\nThis is a pure refactor: no behavior changes, just a single source of truth for the validation error and normalization.\n\n**Acceptance**\n- [ ] `create` and `update` use the shared helper; duplicate implementations removed.\n- [ ] Error messages and behavior are unchanged from the current CLI.\n- [ ] Run `codex review --uncommitted` (timeout 10m) and address findings.\n- [ ] Tests pass.\n\n**Files:** `src/cli/mod.rs`, `src/cli/commands/create.rs`, `src/cli/commands/update.rs`","id":"bd-omw.2","labels":[],"priority":3,"status":"closed","title":"Unify CLI description/body normalization","type":"chore"}
