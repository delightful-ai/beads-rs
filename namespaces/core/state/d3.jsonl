{"_at":[1767999708289,1],"_by":"darin@darinsmacstudio.lan","_v":{"acceptance_criteria":[[1767914938111,1],"darin@darinsmacstudio.lan"],"claim":[[1767999679647,1],"darin@darinsmacstudio.lan"],"description":[[1767914938111,1],"darin@darinsmacstudio.lan"],"design":[[1767914938111,1],"darin@darinsmacstudio.lan"],"estimated_minutes":[[1767914938111,1],"darin@darinsmacstudio.lan"],"external_ref":[[1767914938111,1],"darin@darinsmacstudio.lan"],"labels":[[1767914938111,1],"darin@darinsmacstudio.lan"],"priority":[[1767914938111,1],"darin@darinsmacstudio.lan"],"source_repo":[[1767914938111,1],"darin@darinsmacstudio.lan"],"title":[[1767914938111,1],"darin@darinsmacstudio.lan"],"type":[[1767914938111,1],"darin@darinsmacstudio.lan"]},"assignee":"darin@darinsmacstudio.lan","assignee_at":[1767999679647,1],"assignee_expires":1768003279647,"closed_at":[1767999708289,1],"closed_by":"darin@darinsmacstudio.lan","created_at":[1767914938111,1],"created_by":"darin@darinsmacstudio.lan","description":"","id":"bd-woz","labels":[],"priority":2,"status":"closed","title":"**Problem**\n`Daemon::apply_update` applies `BeadPatch` field-by-field inline. The patch semantics live in `src/daemon/ops.rs`, but the actual application logic lives in `src/daemon/executor.rs`, so adding or changing fields requires touching both places and is easy to miss.\n\n**Design**\nAdd a helper on `BeadPatch` (e.g., `apply_to_fields(&self, fields: &mut BeadFields, stamp: &Stamp) -> Result<(), OpError>`) in `src/daemon/ops.rs`. Move the current field-application logic (including label parsing and statusâ†’workflow transition) into this helper. Update `Daemon::apply_update` to call the helper inside `apply_wal_mutation`.\n\n**Design Notes**\nKeep behavior identical: ignore `Patch::Clear` for required fields (title/description) and for labels (no-op), preserve current status validation and error messages.\n\n**Acceptance**\n- [ ] `Daemon::apply_update` delegates patch application to `BeadPatch::apply_to_fields`.\n- [ ] Label validation and workflow transitions behave exactly as before.\n- [ ] Tests pass.\n\n**Files:** `src/daemon/ops.rs`, `src/daemon/executor.rs`","type":"chore"}
