{"_at":[1770502253769,0],"_by":"darin@darinsmcstudio2.lan","acceptance_criteria":"- [ ] Shared crate compiles and exports required primitives\n- [ ] APIs are typed, no stringly protocol shims\n- [ ] Daemon and external consumers can both depend on it","assignee":"darin@darins-Mac-Studio-2.local","created_at":[1770498238290,0],"created_by":"darin@darinsmcstudio2.lan","description":"**Problem**\nModel/fuzz/stateright depend on daemon internals that should be reusable and typed.","design":"Extract reusable repl/wal/proto/durability primitives into shared crate with explicit public API.","id":"bd-21eg.25","labels":{"cc":{"max":{}},"entries":{}},"priority":1,"status":"closed","title":"Create shared daemon-core crate for repl/wal/proto primitives","type":"feature"}
{"_at":[1768897220726,0],"_by":"darin@darinsmcstudio2.lan","acceptance_criteria":"- [ ] OrSet add/remove/join work for basic cases\n- [ ] Dvv dominates/join correctness covered by tests\n- [ ] Dot collision resolution deterministic\n- [ ] Public API documented in module comments\n\n**Invariants to re-verify**\n- [ ] OrSet::join is commutative and idempotent for test cases\n- [ ] No dot in entries is dominated by cc after add/remove/join\n- [ ] Dvv dominance is monotonic under join","assignee":"darin@book","created_at":[1768894650782,0],"created_by":"darin@darinsmcstudio2.lan","description":"**Problem**\nWe need a compact, deterministic OR-Set implementation (ORSWOT) to replace LWW labels/deps.\n\n**Files**\n- src/core/orset.rs (new)\n- src/core/mod.rs (export)","design":"Implement:\n- Dot { replica, counter }\n- Dvv { max: BTreeMap<ReplicaId,u64> } + dominates + join\n- OrSet<V> with entries + cc\n- apply_add(dot, value, op_hash)\n- apply_remove(value, ctx)\n- join(a,b)\n- OrSetChange reporting membership changes\nInclude deterministic dot-collision winner rules.","id":"bd-3zoj.1","labels":{"cc":{"max":{}},"entries":{}},"priority":2,"status":"closed","title":"OR-Set core types (Dot/DVV/OrSet)","type":"task"}
{"_at":[1768622466497,0],"_by":"darin@darinsmcstudio2.lan","created_at":[1768622466497,0],"created_by":"darin@darinsmcstudio2.lan","description":"**Problem**\nNeed bd mol distill to extract ad-hoc epics into reusable proto templates. Distill is the reverse of pour - it captures successful workflows for reuse.\n\n**What is Distill?**\nDistill extracts an epic with children â†’ proto template:\n- Input: Existing epic + children (ad-hoc work)\n- Output: Proto with 'template' label (reusable pattern)\n- Process: Extracts structure, preserves deps, adds {{var}} placeholders\n\n**Use Cases**\n- Captured a good workflow? Distill it for reuse\n- Created epic manually? Make it a template\n- Want to replicate a pattern? Extract the proto\n\n**How it Works (Go beads)**\n1. Load epic subgraph (epic + all children + deps)\n2. Identify variable candidates (titles, descriptions)\n3. Replace literals with {{var}} placeholders\n4. Create new proto issue with 'template' label\n5. Clone children with placeholders\n6. Preserve dependency topology\n\n**Command Syntax**\nbd mol distill <epic-id> [--as proto-name] [--dry-run]\n\n**Examples**\n- bd mol distill bd-abc123 --as mol-my-workflow\n- bd mol distill bd-feature-123 --dry-run  # preview extraction\n\n**Design Considerations**\n- Heuristics for variable detection\n- Title/description placeholder insertion\n- Dependency preservation\n- Label handling (strip instance-specific labels?)\n- Human review before saving (--dry-run default?)\n\n**Files to Study (Go beads)**\n- cmd/bd/mol_distill.go (if exists - grep found it)\n- cmd/bd/template.go - loadTemplateSubgraph (reverse operation)\n- docs/MOLECULES.md - distill mention (line 56)\n\n**Acceptance**\n- [ ] bd mol distill command implemented\n- [ ] Epic subgraph extraction\n- [ ] Variable placeholder insertion\n- [ ] Dependency topology preserved\n- [ ] Creates proto with 'template' label\n- [ ] --dry-run preview mode\n- [ ] --as flag for custom proto name\n- [ ] Tests for distill workflow\n","id":"bd-ze0x.27","labels":{"cc":{"max":{}},"entries":{"human-needed":[{"counter":1257918874056156675,"replica":"a9066714-feee-969b-7d79-d304cc0ea93a"}]}},"priority":2,"status":"open","title":"Add bd mol distill command to beads-rs","type":"feature"}
