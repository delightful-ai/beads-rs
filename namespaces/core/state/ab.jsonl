{"_at":[1768483302777,0],"_by":"darin@darinsmcstudio2.lan","assignee":"darin@book","created_at":[1768444186301,0],"created_by":"darin@darinsmcstudio2.lan","description":"**Problem**\nREALTIME_PLAN ยง2.1.2 calls for persisting last_seen_ms for known replicas so admin.status and pruning remain correct across restarts. Schema includes replica_liveness, but it is never written or read.\n\nEvidence:\n- src/daemon/wal/index.rs defines replica_liveness table, but there are no writer/read methods for it.\n- rg \"replica_liveness\" only finds the schema.\n\n**Why this violates plan**\nWithout persistence, replica liveness resets on restart, breaking visibility of peers and any future pruning logic.\n\n**Acceptance**\n- [ ] Add WAL index writer/read APIs for replica_liveness.\n- [ ] Update liveness on replication handshake/ACKs with last_seen_ms.\n- [ ] Surface persisted liveness in admin.status.","id":"bd-3m5.86","labels":{"cc":{"max":{}},"entries":{}},"priority":3,"status":"closed","title":"Replica liveness table unused; last_seen_ms not persisted","type":"bug"}
