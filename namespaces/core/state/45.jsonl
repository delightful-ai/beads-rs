{"_at":[1768525466399,1],"_by":"darin@book","_v":{"acceptance_criteria":[[1768512765641,1],"darin@book"],"claim":[[1768525375425,1],"darin@book"],"description":[[1768512765641,1],"darin@book"],"design":[[1768512765641,1],"darin@book"],"estimated_minutes":[[1768512765641,1],"darin@book"],"external_ref":[[1768512765641,1],"darin@book"],"labels":[[1768512765641,1],"darin@book"],"priority":[[1768512765641,1],"darin@book"],"source_repo":[[1768512765641,1],"darin@book"],"title":[[1768512765641,1],"darin@book"],"type":[[1768512765641,1],"darin@book"]},"acceptance_criteria":"- [ ] admin_status_monotonic_under_load completes within a realistic bound on typical dev machines and CI.\n- [ ] The test either uses a deadline proportional to workload or documents a tight SLA and enforces it intentionally.\n- [ ] cargo test --test integration --features slow-tests passes reliably.","assignee":"darin@book","assignee_at":[1768525375425,1],"assignee_expires":1768528975425,"closed_at":[1768525466399,1],"closed_by":"darin@book","created_at":[1768512765641,1],"created_by":"darin@book","description":"**Problem**\nadmin_status_monotonic_under_load fails with \"load generator did not finish within 3s\" at tests/integration/daemon/admin_status.rs:126. This failed in both runs: default integration suite and slow-tests suite. That suggests either a real performance regression or a too-tight timeout for current runtime behavior.\n\n**Repro**\n- cargo test --test integration (failed on 2026-01-15)\n- cargo test --test integration --features slow-tests (failed on 2026-01-15)\n\n**Files**\n- tests/integration/daemon/admin_status.rs\n- tests/integration/fixtures/load_gen.rs\n- src/daemon/* (mutation/apply/IPC throughput under load)","design":"Determine whether the load generator is actually slow (throughput regression) or the testâ€™s 3s deadline is unrealistic. Add timing/logging to record generator throughput, daemon startup time, and status sampling timing. If behavior is correct but slower, adjust the test to wait on completion (with a higher cap based on configured workload), or reduce workload size. If there is a regression, profile the mutation path and fix the bottleneck.","id":"bd-zl6d","labels":[],"priority":2,"status":"closed","title":"Integration test failure: admin_status_monotonic_under_load timeout","type":"bug"}
