{"_at":[1766127066937,0],"_by":"darin@book","_v":{"acceptance_criteria":[[1766127054411,0],"darin@book"],"claim":[[1766127054411,0],"darin@book"],"description":[[1766127054411,0],"darin@book"],"design":[[1766127054411,0],"darin@book"],"estimated_minutes":[[1766127054411,0],"darin@book"],"external_ref":[[1766127054411,0],"darin@book"],"labels":[[1766127054411,0],"darin@book"],"priority":[[1766127054411,0],"darin@book"],"source_repo":[[1766127054411,0],"darin@book"],"title":[[1766127054411,0],"darin@book"],"type":[[1766127054411,0],"darin@book"]},"closed_at":[1766127066937,0],"closed_by":"darin@book","closed_reason":"test cleanup","created_at":[1766127054411,0],"created_by":"darin@book","description":"","id":"bd-70v.2","labels":[],"priority":2,"status":"closed","title":"Subtask B","type":"task"}
{"_at":[1767992684012,1],"_by":"darin@darinsmacstudio.lan","_v":{"acceptance_criteria":[[1767985320945,1],"darin@darinsmacstudio.lan"],"claim":[[1767992374209,1],"darin@darinsmacstudio.lan"],"description":[[1767985320945,1],"darin@darinsmacstudio.lan"],"design":[[1767985320945,1],"darin@darinsmacstudio.lan"],"estimated_minutes":[[1767985320945,1],"darin@darinsmacstudio.lan"],"external_ref":[[1767985320945,1],"darin@darinsmacstudio.lan"],"labels":[[1767985320945,1],"darin@darinsmacstudio.lan"],"priority":[[1767985320945,1],"darin@darinsmacstudio.lan"],"source_repo":[[1767985320945,1],"darin@darinsmacstudio.lan"],"title":[[1767985320945,1],"darin@darinsmacstudio.lan"],"type":[[1767985320945,1],"darin@darinsmacstudio.lan"]},"acceptance_criteria":"- [ ] New model file exists (e.g., beads_stateright_models/examples/gc_floor_machine.rs) and compiles\n- [ ] Properties cover: floor monotonicity, old events do not mutate state, old events still advance contiguity/ACK, and deterministic convergence (todo.md Model #5)\n- [ ] Model doc comments reference REALTIME_PLAN.md §2.4 and §9.4\n- [ ] Example runs via cargo run --example gc_floor_machine (or equivalent)","assignee":"darin@darinsmacstudio.lan","assignee_at":[1767992374209,1],"assignee_expires":1767995974209,"closed_at":[1767992684012,1],"closed_by":"darin@darinsmacstudio.lan","created_at":[1767985320945,1],"created_by":"darin@darinsmacstudio.lan","description":"**Problem**\nGC floor enforcement is correctness-sensitive but currently unmodeled. We need a Stateright model that matches REALTIME_PLAN.md §2.4 (NamespaceGcMarker) and the GC floor rules described in todo.md Model #5 so we do not accidentally stall contiguity or resurrect old state.\n\n**Design Notes**\nThe model should separate state mutation from contiguity/ACK advancement.","design":"**Design**\nCreate a model that introduces NamespaceGcMarker events, tracks gc_floor_ms per namespace, and enforces the rule: events with event_time_ms <= gc_floor are ignored as state mutations but still advance contiguity and ACK (Plan §2.4 + §9.4). Use a tiny state digest (e.g., set of applied event_ids) to test resurrection behavior.\n\nAllow nondeterministic emission of GC markers by the authority replica and ensure floor monotonicity (todo.md Model #5).\n\nReference the apply logic seam in realtime_types_sketch.rs or a small local helper to keep plan alignment.","id":"bd-hjm.5","labels":["modeling","realtime","stateright"],"priority":2,"status":"closed","title":"Stateright: GC markers + floor semantics","type":"feature"}
